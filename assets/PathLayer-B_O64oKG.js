import{r as l,R as A}from"./index-RYns6xqu.js";import{c as ye}from"./index-Cm1LdsEh.js";import{l as O}from"./lodash-CcdATr5u.js";import{c as Te}from"./chroma-CVOSM3bD.js";const I=1e3,R=60*1e3;function B(e,t,n,o,a,d,y,s){const u=[];for(let S=0;S<d;S++){let T=y+S*o,i=t[0].position;const p={id:`${e}-${S+1}`,label:`Train ${e} ${S+1}`,points:[{position:i,time:T}],...s};t.forEach((w,h)=>{if(h){const r=t[h-1],f=w.position-r.position,m=f/a;i+=f,T+=m,p.points.push({position:i,time:T})}T+=n,p.points.push({position:i,time:T})}),u.push(p)}return u}const Z=[{id:"city-a",label:"Point A",position:0*I,importanceLevel:1},{id:"city-b",label:"Point B",position:10*I,importanceLevel:2},{id:"city-c",label:"Point C",position:60*I,importanceLevel:1},{id:"city-d",label:"Point D",position:70*I,importanceLevel:2},{id:"city-e",label:"Point E",position:90*I,importanceLevel:2},{id:"city-f",label:"Point F",position:140*I,importanceLevel:1}],Se=Z.slice(0).reverse(),fe=[Z[0],Z[2],Z[5]],Pe=fe.slice(0).reverse(),vt=[...B("omnibus",Z,3*R,30*R,80*I/(60*R),5,+new Date("2024/04/02"),{color:"#FF362E"}),...B("omnibus-reversed",Se,3*R,35*R,-(80*I)/(60*R),4,+new Date("2024/04/02"),{color:"#FF8E3D"}),...B("fast",fe,5*R,50*R,140*I/(60*R),3,+new Date("2024/04/02"),{color:"#526CE8",fromEnd:"out",toEnd:"out"}),...B("fast-reversed",Pe,5*R,45*R,-(140*I)/(60*R),3,+new Date("2024/04/02"),{color:"#66C0F1",fromEnd:"out",toEnd:"out"})],X=200,Ce=1/X,be=X,Me=1/X,Le=X,mt=6,yt=3;function Tt(e,{delta:t,position:{x:n,y:o}}){const a=Math.min(Math.max(e.xZoomLevel*(1+t/10),Ce),be),d=Math.min(Math.max(e.yZoomLevel*(1+t/10),Me),Le);return{xZoomLevel:a,yZoomLevel:d,xOffset:n-(n-e.xOffset)/e.xZoomLevel*a,yOffset:o-(o-e.yOffset)/e.yZoomLevel*d}}function he(e){const[t,n]=l.useState({width:(e==null?void 0:e.offsetWidth)||1,height:(e==null?void 0:e.offsetHeight)||1});return l.useEffect(()=>{const o=()=>{const a=(e==null?void 0:e.offsetWidth)||1,d=(e==null?void 0:e.offsetHeight)||1;(a!==t.width||d!==t.height)&&n({width:a,height:d})};if(e){const a=new ResizeObserver(o);return a.observe(e),()=>{a.disconnect()}}else{o();return}},[e,t.height,t.width]),t}const Re=l.createContext(void 0),ie=l.createContext({register:()=>{},unregister:()=>{}}),Oe=l.createContext(void 0),re="stop",U=["paths"],q=["graduations","paths","captions","overlay"],de={},J={};function Ie(e){if(J[e])return J[e];const t=`#${e.toString(16).padStart(6,"0")}`.toLowerCase();return de[t]=e,J[e]=t,t}function ke(e){return de[e.toLowerCase()]}function j(e){return e.toString(16).padStart(2,"0").toLowerCase()}function Ae(e,t,n){return`#${j(e)}${j(t)}${j(n)}`}function xe(e){return Te(e).rgba()}const ae="picking",_e="rendering";function Ne(e,t,n){const o=l.useRef({}),a=l.useRef({}),d=l.useRef(U.reduce((E,g)=>({...E,[g]:new Set}),{})),y=l.useRef(q.reduce((E,g)=>({...E,[g]:new Set}),{})),s=l.useRef(t),u=l.useRef(null),S=he(e),[T,i]=l.useState(null),p=l.useCallback((E,g)=>{U.forEach(v=>{if(g&&!g.has(v))return;const c=a.current[`${ae}-${v}`],P=d.current[v];if(c){c.clearRect(0,0,c.canvas.width,c.canvas.height);const C=c.getImageData(0,0,c.canvas.width,c.canvas.height);P.forEach(b=>b(C,E)),c.putImageData(C,0,0)}})},[]),w=l.useCallback((E,g)=>{q.forEach(v=>{if(g&&!g.has(v))return;const c=a.current[`${_e}-${v}`],P=y.current[v];c&&(c.clearRect(0,0,c.canvas.width,c.canvas.height),P.forEach(C=>C(c,E)))})},[]),h=l.useCallback(()=>{w(s.current),p(s.current),u.current&&(window.cancelAnimationFrame(u.current.frameId),u.current=null)},[]),r=l.useCallback(()=>{u.current||(u.current={frameId:window.requestAnimationFrame(h)})},[]),f=l.useCallback(({type:E,layer:g,fn:v})=>{if(E==="picking"){const c=d.current[g];if(c.has(v))throw new Error("This picking function has already been registered.");c.add(v)}else if(E==="rendering"){const c=y.current[g];if(c.has(v))throw new Error("This drawing function has already been registered.");c.add(v)}r()},[]),m=l.useCallback(({type:E,layer:g,fn:v})=>{if(E==="picking"){const c=d.current[g];if(!c.has(v))throw new Error("This picking function has not been registered.");c.delete(v)}else if(E==="rendering"){const c=y.current[g];if(!c.has(v))throw new Error("This drawing function has not been registered.");c.delete(v)}r()},[]);return l.useEffect(()=>{if(!e)return;const E=o.current,g=a.current;[...q.map(c=>({layer:c,type:"rendering"})),...U.map(c=>({layer:c,type:"picking"}))].forEach(({layer:c,type:P})=>{const C=`${P}-${c}`;if(!E[C]){const b=document.createElement("CANVAS"),k=b.getContext("2d");b.style.position="absolute",b.style.inset="0",e.appendChild(b),E[C]=b,g[C]=k,P==="picking"&&(b.style.display="none")}})},[e]),l.useEffect(()=>{s.current=t,h()},[t.fingerprint]),l.useEffect(()=>{for(const E in o.current){const g=o.current[E];g&&(g.style.width=S.width+"px",g.style.height=S.height+"px",g.setAttribute("width",S.width+"px"),g.setAttribute("height",S.height+"px"))}h()},[S]),l.useEffect(()=>{let E=null;U.some(g=>{const v=a.current[`${ae}-${g}`];if(v&&n){const[c,P,C,b]=v.getImageData(n.x,n.y,1,1).data;if(b===255){const k=Ae(c,P,C);return E={layer:g,index:ke(k)},!0}}return!1}),O.isEqual(E,T)||i(E)},[n,T]),{canvasContext:l.useMemo(()=>({register:f,unregister:m}),[f,m]),hoveredItem:T}}function De(e,t){const{register:n,unregister:o}=l.useContext(ie);l.useEffect(()=>(n({type:"picking",layer:e,fn:t}),()=>{o({type:"picking",layer:e,fn:t})}),[e,t,n,o])}function V(e,t){const{register:n,unregister:o}=l.useContext(ie);l.useEffect(()=>(n({type:"rendering",layer:e,fn:t}),()=>{o({type:"rendering",layer:e,fn:t})}),[e,t,n,o])}const Fe="#000000",N="#2170B9",He="#EDEDED",Q="#B6B2AF",$e="#797671",ze="#FFFFFFC0",ee=10,We="IBM Plex Sans",oe=1e3,D=60*oe,z=60*D,St=1e3,pe=[.2,.4,.8,2.4,12,32,72,1/0],Ee=[10*oe,30*oe,1*D,5*D,15*D,30*D,1*z,3*z,6*z,12*z,24*z],Ze={1:{width:.5,color:N,opacity:.75},2:{width:.5,color:N,opacity:.25},3:{width:.5,color:He}},Ye=()=>{const e=l.useCallback((t,{xOffset:n,getY:o,operationalPoints:a})=>{const d=t.canvas.width;a.forEach(y=>{const s=Ze[y.importanceLevel||0];if(!s)return;t.strokeStyle=s.color,t.lineWidth=s.width,t.globalAlpha=s.opacity||1,s.dashArray&&(t.setLineDash(s.dashArray||[]),t.lineDashOffset=-n);const u=o(y.position);typeof u=="number"&&(t.beginPath(),t.moveTo(0,u),t.lineTo(d,u),t.stroke())}),t.setLineDash([]),t.lineDashOffset=0,t.globalAlpha=1},[]);return V("graduations",e),null},Be=[[0,0,0,0,0,0,0,0,1,1,1],[0,0,0,0,0,0,0,1,1,1,1],[0,0,0,0,0,0,1,1,1,1,1],[0,0,0,0,0,3,1,1,1,1,1],[0,0,0,3,2,1,1,1,1,1,1],[0,0,0,3,2,1,1,1,1,1,1],[0,0,3,2,1,1,1,1,1,1,1],[0,0,3,2,1,1,1,1,1,1,1]],G=e=>`:${new Date(e).getMinutes().toString().padStart(2,"0")}`,W=(e,t)=>{const n=new Date(e);if(t>1){const o=n.getUTCHours().toString().padStart(2,"0"),a=n.getMinutes().toString().padStart(2,"0");return`${o}:${a}`}else return n.getUTCHours().toString().padStart(2,"0")},K=33,Ue=[()=>"",()=>"",G,G,G,G,W,W,W,W,W],Ge={1:{color:$e,fontSize:12,topOffset:11},2:{color:Q,fontSize:12,topOffset:9},3:{color:Q,fontSize:10,topOffset:6},4:{color:Q,fontSize:8,topOffset:8}},Ke=()=>{const e=l.useCallback((t,{timeScale:n,timeOrigin:o,xOffset:a,getX:d})=>{const y=t.canvas.width,s=t.canvas.height,u=o-n*a,S=u+n*y,T=1/n*D;let i=[];pe.some((w,h)=>T<w?(i=Be[h],!0):!1);const p={};Ee.map((w,h)=>{const r=i[h];if(!r)return;let f=Math.floor(u/w)*w;for(;f<=S;)r&&(p[f]={level:r,rangeIndex:h}),f+=w}),t.fillStyle="white",t.fillRect(0,s-K,y,s),t.strokeStyle="#979797",t.lineWidth=2,t.beginPath(),t.moveTo(0,s-K),t.lineTo(y,s-K),t.stroke();for(const w in p){const{level:h,rangeIndex:r}=p[w],f=Ge[h],m=Ue[r],M=m(+w,T);t.textAlign="center",t.textBaseline="top",t.fillStyle=f.color,t.font=`${f.fontWeight||"normal"} ${f.fontSize}px ${We}`,t.fillText(M,d(+w),s-K+(f.topOffset||0))}},[]);return V("captions",e),null},Xe=[[0,0,0,0,0,0,0,4,3,2,1],[0,0,0,0,0,0,4,3,3,2,1],[0,0,0,0,0,6,4,3,3,2,1],[0,0,0,0,6,5,4,3,3,2,1],[0,0,0,6,5,4,3,2,2,2,1],[0,0,6,5,4,4,3,2,2,2,1],[0,6,5,4,4,4,3,2,2,2,1],[6,0,5,4,4,4,3,2,2,2,1]],Ve={1:{width:.5,color:Fe},2:{width:.5,color:N,opacity:.77},3:{width:.5,color:N,opacity:.5},4:{width:.5,color:N,opacity:.5,dashArray:[6,6]},5:{width:.5,color:N,opacity:.5,dashArray:[6,18]},6:{width:1,color:N,opacity:.5,dashArray:[1,12]}},qe=()=>{const e=l.useCallback((t,{timeScale:n,timeOrigin:o,xOffset:a,yOffset:d,getX:y})=>{const s=t.canvas.width,u=t.canvas.height,S=o-n*a,T=S+n*s,i=1/n*D;let p=[];pe.some((h,r)=>i<h?(p=Xe[r],!0):!1);const w={};Ee.map((h,r)=>{const f=p[r];if(!f)return;let m=Math.floor(S/h)*h;for(;m<=T;)w[m]=f,m+=h});for(const h in w){const r=w[h],f=Ve[r];t.strokeStyle=f.color,t.lineWidth=f.width,t.globalAlpha=f.opacity||1,t.setLineDash(f.dashArray||[]),f.dashArray&&(t.lineDashOffset=-d);const m=y(+h);t.beginPath(),t.moveTo(m,0),t.lineTo(m,u),t.stroke()}t.setLineDash([]),t.lineDashOffset=0,t.globalAlpha=1},[]);return V("graduations",e),null};function te(e,t){const n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}function Je(e){if(typeof e.deltaY<"u")return e.deltaY*-3/360;if(typeof e.detail<"u")return e.detail/-9;throw new Error("Could not extract delta from event.")}function je(e,t,n){const o=l.useRef(t),[a,d]=l.useState({type:"idle"}),[y,s]=l.useState({isHover:!1,position:{x:NaN,y:NaN}}),{position:u,down:S}=y;l.useEffect(()=>{o.current=t},[t]);const T=l.useCallback(r=>{if(!e)return;const{onClick:f}=o.current;if(f){const m=te(r,e);f({event:r,position:u,data:n(m)})}},[e,n]),i=l.useCallback(r=>{e&&s(f=>({...f,down:{ctrl:r.ctrlKey,shift:r.shiftKey}}))},[e]),p=l.useCallback(()=>{e&&s(r=>({...r,down:void 0}))},[e]),w=l.useCallback(r=>{if(!e)return;const f=te(r,e),{x:m,y:M}=u,E=e.offsetWidth,g=e.offsetHeight,v=m>=0&&m<=E&&M>=0&&M<=g;s(P=>({...P,position:f,isHover:v}));const{onMouseMove:c}=o.current;c&&c({event:r,isHover:v,position:u,data:{position:NaN,time:NaN}})},[e]),h=l.useCallback(r=>{const{onZoom:f}=o.current;f&&e&&f({delta:Je(r),position:te(r,e),event:r})},[e]);return l.useEffect(()=>{if(e)return e.addEventListener("click",T),()=>{e.removeEventListener("click",T)}},[e,T]),l.useEffect(()=>{if(e)return e.addEventListener("mousedown",i),()=>{e.removeEventListener("mousedown",i)}},[e,i]),l.useEffect(()=>(document.addEventListener("mouseup",p),()=>{document.removeEventListener("mouseup",p)}),[p]),l.useEffect(()=>(document.addEventListener("mousemove",w),()=>{document.removeEventListener("mousemove",w)}),[w]),l.useEffect(()=>{if(e)return e.addEventListener("wheel",h),()=>{e.removeEventListener("wheel",h)}},[e,h]),l.useEffect(()=>{const{onPan:r}=o.current;S?d({type:"panning",initialPosition:u,initialData:n(u)}):(a.type==="panning"&&r&&r({isPanning:!1,position:u,initialPosition:a.initialPosition,data:n(u),initialData:a.initialData}),a.type!=="idle"&&d({type:"idle"}))},[S]),l.useEffect(()=>{const{onPan:r}=o.current;a.type==="panning"&&r&&r({isPanning:!0,position:u,initialPosition:a.initialPosition,data:n(u),initialData:a.initialData})},[u]),y}function Qe(e,t,n){let o=e;if(t.some(s=>s.to<o?!0:(o=s.to,!1)))throw new Error("Invalid scale: 'to' must be greater than previous 'to'.");if(t.some(s=>("size"in s?s.size:s.coefficient)<=0))throw new Error("Invalid scale: 'to' must be greater than 'from'.");const a=[];let d=0;o=e;for(let s=0;s<t.length;s++){const u=t[s],S="coefficient"in u?u.coefficient:(u.to-o)/u.size,T="coefficient"in u?(u.to-o)/u.coefficient:u.size;a.push({from:o,to:u.to,pixelFrom:d,pixelTo:d+T,coefficient:S}),d+=T,o=u.to,s&&(a[s].previous=a[s-1],a[s-1].next=a[s])}function y(s){if(s.length===0)throw new Error("Invalid scales: there should be at least one scale.");if(s.length===1)return s[0];{const u=Math.ceil(s.length/2),S=s[u-1].to,T=s[u-1].pixelTo;return{limit:S,pixelLimit:T,from:s[0].from,to:s[s.length-1].to,pixelFrom:s[0].pixelFrom,pixelTo:s[s.length-1].pixelTo,left:y(s.slice(0,u)),right:y(s.slice(u))}}}return y(a)}function ge(e,t){e=O.clamp(e,t.from,t.to);let n=t;for(;"limit"in n;)e<=n.limit?n=n.left:n=n.right;return n}function et(e,t){e=O.clamp(e,t.pixelFrom,t.pixelTo);let n=t;for(;"pixelLimit"in n;)e<=n.pixelLimit?n=n.left:n=n.right;return n}function tt(e,t,n){return o=>t+(o-e)/n}function nt(e,t,n){return o=>(o-t)*n+e}function ot(e,t,n){return o=>{const{from:a,pixelFrom:d,coefficient:y}=ge(o-e,n);return t+d+(o-a)/y}}function it(e,t,n){return o=>{const{from:a,pixelFrom:d,coefficient:y}=et(o-t,n);return e+a+(o-t-d)*y}}function st(e,t){return({x:n,y:o})=>({time:e(n),position:t(o)})}function rt(e,t){return({time:n,position:o})=>({x:e(n),y:t(o)})}function we(e,t,n){if(t<e)return we(t,e,n).reverse();e=Math.max(e,n.from),t=Math.min(t,n.to);let o=ge(e,n),a=e;const d=[];for(;o.to<t;)o.to!==a&&d.push(o.to),a=o.to,o=o.next;return d}const Pt=e=>{const{operationalPoints:t,spaceOrigin:n,spaceScales:o,timeOrigin:a,timeScale:d,xOffset:y=0,yOffset:s=0,onHoveredChildUpdate:u,children:S,onPan:T,onZoom:i,onClick:p,onMouseMove:w,...h}=e,[r,f]=l.useState(null),[m,M]=l.useState(null),{width:E,height:g}=he(r),v=l.useMemo(()=>JSON.stringify({width:E,height:g,spaceOrigin:n,spaceScales:o,timeOrigin:a,timeScale:d,xOffset:y,yOffset:s}),[E,g,n,o,a,d,y,s]),c=l.useMemo(()=>{const L=Qe(n,o),F=tt(a,y,d),Y=ot(n,s,L),$=rt(F,Y),_=nt(a,y,d),se=it(n,s,L),me=st(_,se);return{fingerprint:v,width:E,height:g,getX:F,getY:Y,getPoint:$,getTime:_,getSpace:se,getData:me,operationalPoints:t,spaceOrigin:n,spaceScaleTree:L,timeOrigin:a,timeScale:d,xOffset:y,yOffset:s}},[v]),{position:P,down:C,isHover:b}=je(r,e,c.getData),k=l.useMemo(()=>({position:P,down:C,isHover:b,data:c.getData(P)}),[P,C,b,c]),{canvasContext:H,hoveredItem:x}=Ne(m,c,P);return l.useEffect(()=>{u&&u({item:x})},[x]),A.createElement("div",{...h,ref:f,className:ye("relative space-time-chart",h.className)},A.createElement("div",{ref:M,className:"absolute inset-0"}),A.createElement(Re.Provider,{value:c},A.createElement(ie.Provider,{value:H},A.createElement(Oe.Provider,{value:k},A.createElement(Ye,null),A.createElement(qe,null),A.createElement(Ke,null),S))))};function ve(e,t,n,[o,a,d],y,s=Math.ceil(y/2)){if(t.x>n.x)return ve(e,n,t,[o,a,d],y);const u=e.width,S=e.height,T=n.x-t.x,i=n.y-t.y,p=Math.sqrt(T*T+i*i),w=-i/p,h=T/p,r=s,f={x:t.x+(+w-T/p)*r,y:t.y+(+h-i/p)*r},m={x:t.x+(-w-T/p)*r,y:t.y+(-h-i/p)*r},M={x:n.x+(-w+T/p)*r,y:n.y+(-h+i/p)*r},E={x:n.x+(+w+T/p)*r,y:n.y+(+h+i/p)*r},g=t.y<n.y,v=g?E:f,c=g?f:m,P=g?M:E,C=g?m:M,b=O.clamp(Math.floor(c.x),0,u),k=O.clamp(Math.ceil(P.x),0,u),H=O.clamp(Math.floor(C.y),0,S),x=O.clamp(Math.ceil(v.y),0,S);for(let L=H;L<=x;L++){const F=O.clamp(L<c.y?Math.floor(C.x+(L-C.y)*(c.x-C.x)/(c.y-C.y)):Math.floor(c.x+(L-c.y)*(c.x-v.x)/(c.y-v.y)),b,k),Y=O.clamp(L<P.y?Math.ceil(C.x+(L-C.y)*(P.x-C.x)/(P.y-C.y)):Math.ceil(P.x+(L-P.y)*(P.x-v.x)/(P.y-v.y)),b,k);for(let $=F;$<=Y;$++){const _=(L*u+$)*4;e.data[_]=o,e.data[_+1]=a,e.data[_+2]=d,e.data[_+3]=255}}}const ce=6;function at(e,t,n){e.beginPath(),e.moveTo(t,n-ce/2),e.lineTo(t,n+ce/2),e.stroke()}const ne=12;function ct(e,t,n,o,a){const d=o==="from"?1:-1,y=(a==="down"?1:-1)*d,s=t-4*d,u=n+(ne-2)*y;e.beginPath(),e.moveTo(t,n),e.bezierCurveTo(s,u,s,u,t-ne*d,n+ne*y),e.stroke()}function le(e,t,n,o,a,d){d==="out"?ct(e,t,n,o,a):at(e,t,n)}function lt({points:e},t){if(e.length<2)return"down";for(let n=1,o=Math.min(3,e.length);n<o;n++){const a=e[n].position-e[n-1].position;if(a>0)return"up";if(a<0)return"down"}return"down"}const ut=5,ft=7,ht=.2,ue={1:{width:1.5,endWidth:1.5},2:{width:1,endWidth:1},3:{width:1,endWidth:1,dashArray:[5,5],lineCap:"square"},4:{width:1.5,endWidth:1,dashArray:[0,4],lineCap:"round"}},dt=2,Ct=({index:e,path:t,color:n,level:o=dt,pickingTolerance:a=ut})=>{const d=l.useCallback(({getX:i,getY:p,spaceScaleTree:w})=>{const h=[];return t.points.forEach(({position:r,time:f},m,M)=>{if(!m)h.push({x:i(f),y:p(r)});else{const{position:E,time:g}=M[m-1];we(E,r,w).forEach(c=>{const P=g+(c-E)/(r-E)*(f-g);h.push({x:i(P),y:p(c)})}),h.push({x:i(f),y:p(r)})}}),h},[t]),y=l.useCallback((i,{getX:p,getY:w,operationalPoints:h})=>{const r=new Set(h.map(f=>f.position));t.points.forEach(({position:f,time:m},M,E)=>{if(M){const{position:g,time:v}=E[M-1];if(g===f&&r.has(f)){const c=w(f);i.beginPath(),i.moveTo(p(v),c),i.lineTo(p(m),c),i.stroke()}}})},[t]),s=l.useCallback((i,p,w,h)=>{if(!p)return;const r=i.canvas.width,f=i.canvas.height,m=h.findIndex(({x:L,y:F})=>O.inRange(L,0,r)&&O.inRange(F,0,f));if(m<0)return;const M=h[m-1],E=h[m],g=h[m+1];let v=E,c=0;m===0?g&&(c=Math.atan2(g.y-E.y,g.x-E.x)):(v={x:0,y:E.y-E.x*(E.y-M.y)/(E.x-M.x)},c=Math.atan2(E.y-v.y,E.x-v.x)),i.save(),i.translate(v.x,v.y),i.rotate(c),i.font=`${ee}px IBM Plex Mono`,i.textAlign="start";const P=5,C=c>=0?-5:15,b=2,H=i.measureText(p).width+2*b,x=ee+2*b;i.fillStyle=ze,i.fillRect(P-b,C-x+b,H,x),i.fillStyle=w,i.fillText(p,P,C-ee/4),i.restore()},[]),u=l.useCallback((i,{getX:p,getY:w})=>{const h=lt(t),r=t.points[0],f=t.fromEnd||re,m=O.last(t.points),M=t.toEnd||re;le(i,p(r.time),w(r.position),"from",h,f),le(i,p(m.time),w(m.position),"to",h,M)},[t]),S=l.useCallback((i,p)=>{i.strokeStyle=n,i.lineWidth=ft,i.globalAlpha=ht,i.lineCap="round",y(i,p);const w=ue[o];i.strokeStyle=n,i.lineWidth=w.width,i.setLineDash(w.dashArray||[]),i.globalAlpha=w.opacity||1,i.lineCap=w.lineCap||"square",i.beginPath();const h=d(p);h.forEach(({x:r,y:f},m)=>{m?i.lineTo(r,f):i.moveTo(r,f)}),i.stroke(),i.setLineDash([]),i.lineWidth=w.endWidth,u(i,p),s(i,t.label,n,h)},[n,y,o,d,u,s,t.label]);V("paths",S);const T=l.useCallback((i,p)=>{const w=xe(Ie(e));d(p).forEach((h,r,f)=>{if(r){const m=f[r-1];ve(i,m,h,w,ue[o].width+a)}})},[e,d,o,a]);return De("paths",T),null};export{St as K,Oe as M,Z as O,vt as P,Pt as S,ze as W,mt as X,yt as Y,Ct as a,Re as b,D as c,Ce as d,be as e,Me as f,B as g,Le as h,Tt as z};
