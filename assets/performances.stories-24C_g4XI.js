import{r as u,R as O}from"./index-RYns6xqu.js";import{c as C}from"./index-Cm1LdsEh.js";import{l as g}from"./lodash-CcdATr5u.js";import{g as D,X as T,Y as b,S as Z,c as l,z as _,a as R,K as V}from"./PathLayer-C7DXgddV.js";import{g as A}from"./vectors-BMNFZSin.js";/* empty css                        */const x=+new Date("2024/01/01"),L=["#9E8256","#FF362E","#FF8E3D","#FFBF00","#95C877","#78E6C5","#66C0F1","#526CE8","#D16DBC","#FF9BC6"],z=({operationalPointsCount:p,trainTypes:m,pathsPerTrain:d,spaceScaleType:v})=>{const n=u.useMemo(()=>{let e=0;return g.range(p).map(t=>({id:`op-${t}`,label:`Operational point n°${t+1}`,position:e+=g.random(5e4,15e4),importanceLevel:!t||t===p-1||Math.random()>.8?1:2}))},[p]),F=u.useMemo(()=>{const e=n,t=e.filter(o=>o.importanceLevel===1),f=e.slice(0).reverse(),r=t.slice(0).reverse();return g.range(m).flatMap(o=>{const s=o%2,i=Math.floor(o/2)%2,M=(100+100*(Math.floor(o/2)/Math.floor(m/2)))*V/(60*l);return D(`type n°${o}`,i?s?f:e:s?r:t,5*l,(30+o*5)*l,M*(s?-1:1),d,x,{color:L[o%L.length],fromEnd:i?"out":"stop",toEnd:i?"out":"stop"})})},[n,m,d]),[a,E]=u.useState({xOffset:0,yOffset:0,xZoomLevel:T,yZoomLevel:b,panning:null});return O.createElement("div",{className:"inset-0"},O.createElement(Z,{className:C("inset-0 absolute p-0 m-0",a.panning&&"cursor-grabbing"),operationalPoints:n,spaceOrigin:0,spaceScales:n.slice(0,-1).map((e,t)=>({from:e.position,to:n[t+1].position,...v==="linear"?{size:50*a.yZoomLevel}:{coefficient:150/a.yZoomLevel}})),timeOrigin:x,timeScale:l/a.xZoomLevel,xOffset:a.xOffset,yOffset:a.yOffset,onPan:({initialPosition:e,position:t,isPanning:f})=>{const{panning:r}=a,o=A(e,t);E(s=>{if(f)if(r){const i=r.initialOffset.x+o.x,y=r.initialOffset.y+o.y;return{...a,xOffset:i,yOffset:y}}else return{...s,panning:{initialOffset:{x:a.xOffset,y:a.yOffset}}};else return{...s,panning:null}})},onZoom:e=>{E(t=>({...t,..._(a,e)}))}},F.map((e,t)=>O.createElement(R,{key:e.id,index:t,path:e,color:e.color}))))},k={title:"SpaceTimeChart/Performances",component:z,argTypes:{operationalPointsCount:{name:"Operational points",defaultValue:5,control:{type:"number",step:1,min:2,max:30}},trainTypes:{name:"Train types",defaultValue:4,control:{type:"number",step:1,min:1,max:20}},pathsPerTrain:{name:"Paths per train type",defaultValue:50,control:{type:"number",step:10,min:0,max:200}},spaceScaleType:{name:"Space scaling type",options:["linear","proportional"],defaultValue:"linear",control:{type:"radio"}}}},c={name:"Default arguments",args:{operationalPointsCount:5,trainTypes:4,pathsPerTrain:50,spaceScaleType:"linear"}};var S,P,h;c.parameters={...c.parameters,docs:{...(S=c.parameters)==null?void 0:S.docs,source:{originalSource:`{
  name: 'Default arguments',
  args: {
    operationalPointsCount: 5,
    trainTypes: 4,
    pathsPerTrain: 50,
    spaceScaleType: 'linear'
  }
}`,...(h=(P=c.parameters)==null?void 0:P.docs)==null?void 0:h.source}}};const w=["DefaultArgs"];export{c as DefaultArgs,w as __namedExportsOrder,k as default};
