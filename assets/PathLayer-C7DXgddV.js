import{r as P,c as is,g as os,R as Cr}from"./index-RYns6xqu.js";import{c as us}from"./index-Cm1LdsEh.js";import{l as vr}from"./lodash-CcdATr5u.js";const br=1e3,cr=60*1e3;function ue(s,f,h,m,_,x,F,$){const C=[];for(let Y=0;Y<x;Y++){let B=F+Y*m,w=f[0].position;const N={id:`${s}-${Y+1}`,label:`Train ${s} ${Y+1}`,points:[{position:w,time:B}],...$};f.forEach((I,T)=>{if(T){const c=f[T-1],y=I.position-c.position,q=y/_;w+=y,B+=q,N.points.push({position:w,time:B})}B+=h,N.points.push({position:w,time:B})}),C.push(N)}return C}const Jr=[{id:"city-a",label:"Point A",position:0*br,importanceLevel:1},{id:"city-b",label:"Point B",position:10*br,importanceLevel:2},{id:"city-c",label:"Point C",position:60*br,importanceLevel:1},{id:"city-d",label:"Point D",position:70*br,importanceLevel:2},{id:"city-e",label:"Point E",position:90*br,importanceLevel:2},{id:"city-f",label:"Point F",position:140*br,importanceLevel:1}],ss=Jr.slice(0).reverse(),Ra=[Jr[0],Jr[2],Jr[5]],ls=Ra.slice(0).reverse(),ol=[...ue("omnibus",Jr,3*cr,30*cr,80*br/(60*cr),5,+new Date("2024/04/02"),{color:"#FF362E"}),...ue("omnibus-reversed",ss,3*cr,35*cr,-(80*br)/(60*cr),4,+new Date("2024/04/02"),{color:"#FF8E3D"}),...ue("fast",Ra,5*cr,50*cr,140*br/(60*cr),3,+new Date("2024/04/02"),{color:"#526CE8",fromEnd:"out",toEnd:"out"}),...ue("fast-reversed",ls,5*cr,45*cr,-(140*br)/(60*cr),3,+new Date("2024/04/02"),{color:"#66C0F1",fromEnd:"out",toEnd:"out"})],ce=200,fs=1/ce,cs=ce,vs=1/ce,hs=ce,ul=6,sl=3;function ll(s,{delta:f,position:{x:h,y:m}}){const _=Math.min(Math.max(s.xZoomLevel*(1+f/10),fs),cs),x=Math.min(Math.max(s.yZoomLevel*(1+f/10),vs),hs);return{xZoomLevel:_,yZoomLevel:x,xOffset:h-(h-s.xOffset)/s.xZoomLevel*_,yOffset:m-(m-s.yOffset)/s.yZoomLevel*x}}function Aa(s){const[f,h]=P.useState({width:(s==null?void 0:s.offsetWidth)||1,height:(s==null?void 0:s.offsetHeight)||1});return P.useEffect(()=>{const m=()=>{const _=(s==null?void 0:s.offsetWidth)||1,x=(s==null?void 0:s.offsetHeight)||1;(_!==f.width||x!==f.height)&&h({width:_,height:x})};if(s){const _=new ResizeObserver(m);return _.observe(s),()=>{_.disconnect()}}else{m();return}},[s,f.height,f.width]),f}const gs=P.createContext(void 0),Ke=P.createContext({register:()=>{},unregister:()=>{}}),ps=P.createContext(void 0),Pa="stop",se=["paths"],Ye=["graduations","paths","captions","overlay"];var Ia={exports:{}};/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */(function(s,f){(function(h,m){s.exports=m()})(is,function(){for(var h=function(r,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),r<e?e:r>n?n:r},m=h,_=function(r){r._clipped=!1,r._unclipped=r.slice(0);for(var e=0;e<=3;e++)e<3?((r[e]<0||r[e]>255)&&(r._clipped=!0),r[e]=m(r[e],0,255)):e===3&&(r[e]=m(r[e],0,1));return r},x={},F=0,$=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];F<$.length;F+=1){var C=$[F];x["[object "+C+"]"]=C.toLowerCase()}var Y=function(r){return x[Object.prototype.toString.call(r)]||"object"},B=Y,w=function(r,e){return e===void 0&&(e=null),r.length>=3?Array.prototype.slice.call(r):B(r[0])=="object"&&e?e.split("").filter(function(n){return r[0][n]!==void 0}).map(function(n){return r[0][n]}):r[0]},N=Y,I=function(r){if(r.length<2)return null;var e=r.length-1;return N(r[e])=="string"?r[e].toLowerCase():null},T=Math.PI,c={clip_rgb:_,limit:h,type:Y,unpack:w,last:I,PI:T,TWOPI:T*2,PITHIRD:T/3,DEG2RAD:T/180,RAD2DEG:180/T},y={format:{},autodetect:[]},q=c.last,er=c.clip_rgb,R=c.type,S=y,O=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var a=this;if(R(e[0])==="object"&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];var i=q(e),o=!1;if(!i){o=!0,S.sorted||(S.autodetect=S.autodetect.sort(function(p,k){return k.p-p.p}),S.sorted=!0);for(var t=0,u=S.autodetect;t<u.length;t+=1){var l=u[t];if(i=l.test.apply(l,e),i)break}}if(S.format[i]){var v=S.format[i].apply(null,o?e:e.slice(0,-1));a._rgb=er(v)}else throw new Error("unknown format: "+e);a._rgb.length===3&&a._rgb.push(1)};O.prototype.toString=function(){return R(this.hex)=="function"?this.hex():"["+this._rgb.join(",")+"]"};var g=O,Z=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Z.Color,[null].concat(r)))};Z.Color=g,Z.version="2.4.2";var A=Z,rr=c.unpack,fr=Math.max,Tr=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=rr(r,"rgb"),a=n[0],i=n[1],o=n[2];a=a/255,i=i/255,o=o/255;var t=1-fr(a,fr(i,o)),u=t<1?1/(1-t):0,l=(1-a-t)*u,v=(1-i-t)*u,p=(1-o-t)*u;return[l,v,p,t]},mr=Tr,ir=c.unpack,kr=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=ir(r,"cmyk");var n=r[0],a=r[1],i=r[2],o=r[3],t=r.length>4?r[4]:1;return o===1?[0,0,0,t]:[n>=1?0:255*(1-n)*(1-o),a>=1?0:255*(1-a)*(1-o),i>=1?0:255*(1-i)*(1-o),t]},Ar=kr,Pr=A,dr=g,Wr=y,he=c.unpack,Ha=c.type,Ba=mr;dr.prototype.cmyk=function(){return Ba(this._rgb)},Pr.cmyk=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(dr,[null].concat(r,["cmyk"])))},Wr.format.cmyk=Ar,Wr.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=he(r,"cmyk"),Ha(r)==="array"&&r.length===4)return"cmyk"}});var Ya=c.unpack,Wa=c.last,ge=function(r){return Math.round(r*100)/100},Za=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=Ya(r,"hsla"),a=Wa(r)||"lsa";return n[0]=ge(n[0]||0),n[1]=ge(n[1]*100)+"%",n[2]=ge(n[2]*100)+"%",a==="hsla"||n.length>3&&n[3]<1?(n[3]=n.length>3?n[3]:1,a="hsla"):n.length=3,a+"("+n.join(",")+")"},Ua=Za,Xa=c.unpack,ja=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=Xa(r,"rgba");var n=r[0],a=r[1],i=r[2];n/=255,a/=255,i/=255;var o=Math.min(n,a,i),t=Math.max(n,a,i),u=(t+o)/2,l,v;return t===o?(l=0,v=Number.NaN):l=u<.5?(t-o)/(t+o):(t-o)/(2-t-o),n==t?v=(a-i)/(t-o):a==t?v=2+(i-n)/(t-o):i==t&&(v=4+(n-a)/(t-o)),v*=60,v<0&&(v+=360),r.length>3&&r[3]!==void 0?[v,l,u,r[3]]:[v,l,u]},Qe=ja,Va=c.unpack,Ja=c.last,Ka=Ua,Qa=Qe,pe=Math.round,rt=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=Va(r,"rgba"),a=Ja(r)||"rgb";return a.substr(0,3)=="hsl"?Ka(Qa(n),a):(n[0]=pe(n[0]),n[1]=pe(n[1]),n[2]=pe(n[2]),(a==="rgba"||n.length>3&&n[3]<1)&&(n[3]=n.length>3?n[3]:1,a="rgba"),a+"("+n.slice(0,a==="rgb"?3:4).join(",")+")")},et=rt,nt=c.unpack,de=Math.round,at=function(){for(var r,e=[],n=arguments.length;n--;)e[n]=arguments[n];e=nt(e,"hsl");var a=e[0],i=e[1],o=e[2],t,u,l;if(i===0)t=u=l=o*255;else{var v=[0,0,0],p=[0,0,0],k=o<.5?o*(1+i):o+i-o*i,d=2*o-k,M=a/360;v[0]=M+1/3,v[1]=M,v[2]=M-1/3;for(var E=0;E<3;E++)v[E]<0&&(v[E]+=1),v[E]>1&&(v[E]-=1),6*v[E]<1?p[E]=d+(k-d)*6*v[E]:2*v[E]<1?p[E]=k:3*v[E]<2?p[E]=d+(k-d)*(2/3-v[E])*6:p[E]=d;r=[de(p[0]*255),de(p[1]*255),de(p[2]*255)],t=r[0],u=r[1],l=r[2]}return e.length>3?[t,u,l,e[3]]:[t,u,l,1]},rn=at,en=rn,nn=y,an=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,tn=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,on=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,un=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,sn=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,ln=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,fn=Math.round,cn=function(r){r=r.toLowerCase().trim();var e;if(nn.format.named)try{return nn.format.named(r)}catch{}if(e=r.match(an)){for(var n=e.slice(1,4),a=0;a<3;a++)n[a]=+n[a];return n[3]=1,n}if(e=r.match(tn)){for(var i=e.slice(1,5),o=0;o<4;o++)i[o]=+i[o];return i}if(e=r.match(on)){for(var t=e.slice(1,4),u=0;u<3;u++)t[u]=fn(t[u]*2.55);return t[3]=1,t}if(e=r.match(un)){for(var l=e.slice(1,5),v=0;v<3;v++)l[v]=fn(l[v]*2.55);return l[3]=+l[3],l}if(e=r.match(sn)){var p=e.slice(1,4);p[1]*=.01,p[2]*=.01;var k=en(p);return k[3]=1,k}if(e=r.match(ln)){var d=e.slice(1,4);d[1]*=.01,d[2]*=.01;var M=en(d);return M[3]=+e[4],M}};cn.test=function(r){return an.test(r)||tn.test(r)||on.test(r)||un.test(r)||sn.test(r)||ln.test(r)};var tt=cn,it=A,vn=g,hn=y,ot=c.type,ut=et,gn=tt;vn.prototype.css=function(r){return ut(this._rgb,r)},it.css=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(vn,[null].concat(r,["css"])))},hn.format.css=gn,hn.autodetect.push({p:5,test:function(r){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&ot(r)==="string"&&gn.test(r))return"css"}});var pn=g,st=A,lt=y,ft=c.unpack;lt.format.gl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=ft(r,"rgba");return n[0]*=255,n[1]*=255,n[2]*=255,n},st.gl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(pn,[null].concat(r,["gl"])))},pn.prototype.gl=function(){var r=this._rgb;return[r[0]/255,r[1]/255,r[2]/255,r[3]]};var ct=c.unpack,vt=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=ct(r,"rgb"),a=n[0],i=n[1],o=n[2],t=Math.min(a,i,o),u=Math.max(a,i,o),l=u-t,v=l*100/255,p=t/(255-l)*100,k;return l===0?k=Number.NaN:(a===u&&(k=(i-o)/l),i===u&&(k=2+(o-a)/l),o===u&&(k=4+(a-i)/l),k*=60,k<0&&(k+=360)),[k,v,p]},ht=vt,gt=c.unpack,pt=Math.floor,dt=function(){for(var r,e,n,a,i,o,t=[],u=arguments.length;u--;)t[u]=arguments[u];t=gt(t,"hcg");var l=t[0],v=t[1],p=t[2],k,d,M;p=p*255;var E=v*255;if(v===0)k=d=M=p;else{l===360&&(l=0),l>360&&(l-=360),l<0&&(l+=360),l/=60;var D=pt(l),H=l-D,U=p*(1-v),j=U+E*(1-H),or=U+E*H,tr=U+E;switch(D){case 0:r=[tr,or,U],k=r[0],d=r[1],M=r[2];break;case 1:e=[j,tr,U],k=e[0],d=e[1],M=e[2];break;case 2:n=[U,tr,or],k=n[0],d=n[1],M=n[2];break;case 3:a=[U,j,tr],k=a[0],d=a[1],M=a[2];break;case 4:i=[or,U,tr],k=i[0],d=i[1],M=i[2];break;case 5:o=[tr,U,j],k=o[0],d=o[1],M=o[2];break}}return[k,d,M,t.length>3?t[3]:1]},bt=dt,mt=c.unpack,yt=c.type,wt=A,dn=g,bn=y,kt=ht;dn.prototype.hcg=function(){return kt(this._rgb)},wt.hcg=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(dn,[null].concat(r,["hcg"])))},bn.format.hcg=bt,bn.autodetect.push({p:1,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=mt(r,"hcg"),yt(r)==="array"&&r.length===3)return"hcg"}});var $t=c.unpack,_t=c.last,Kr=Math.round,Et=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=$t(r,"rgba"),a=n[0],i=n[1],o=n[2],t=n[3],u=_t(r)||"auto";t===void 0&&(t=1),u==="auto"&&(u=t<1?"rgba":"rgb"),a=Kr(a),i=Kr(i),o=Kr(o);var l=a<<16|i<<8|o,v="000000"+l.toString(16);v=v.substr(v.length-6);var p="0"+Kr(t*255).toString(16);switch(p=p.substr(p.length-2),u.toLowerCase()){case"rgba":return"#"+v+p;case"argb":return"#"+p+v;default:return"#"+v}},mn=Et,Mt=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Ct=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,Tt=function(r){if(r.match(Mt)){(r.length===4||r.length===7)&&(r=r.substr(1)),r.length===3&&(r=r.split(""),r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2]);var e=parseInt(r,16),n=e>>16,a=e>>8&255,i=e&255;return[n,a,i,1]}if(r.match(Ct)){(r.length===5||r.length===9)&&(r=r.substr(1)),r.length===4&&(r=r.split(""),r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2]+r[3]+r[3]);var o=parseInt(r,16),t=o>>24&255,u=o>>16&255,l=o>>8&255,v=Math.round((o&255)/255*100)/100;return[t,u,l,v]}throw new Error("unknown hex color: "+r)},yn=Tt,Pt=A,wn=g,xt=c.type,kn=y,St=mn;wn.prototype.hex=function(r){return St(this._rgb,r)},Pt.hex=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(wn,[null].concat(r,["hex"])))},kn.format.hex=yn,kn.autodetect.push({p:4,test:function(r){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&xt(r)==="string"&&[3,4,5,6,7,8,9].indexOf(r.length)>=0)return"hex"}});var Lt=c.unpack,$n=c.TWOPI,Nt=Math.min,Rt=Math.sqrt,At=Math.acos,It=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=Lt(r,"rgb"),a=n[0],i=n[1],o=n[2];a/=255,i/=255,o/=255;var t,u=Nt(a,i,o),l=(a+i+o)/3,v=l>0?1-u/l:0;return v===0?t=NaN:(t=(a-i+(a-o))/2,t/=Rt((a-i)*(a-i)+(a-o)*(i-o)),t=At(t),o>i&&(t=$n-t),t/=$n),[t*360,v,l]},Ot=It,Ft=c.unpack,be=c.limit,Ir=c.TWOPI,me=c.PITHIRD,Or=Math.cos,qt=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=Ft(r,"hsi");var n=r[0],a=r[1],i=r[2],o,t,u;return isNaN(n)&&(n=0),isNaN(a)&&(a=0),n>360&&(n-=360),n<0&&(n+=360),n/=360,n<1/3?(u=(1-a)/3,o=(1+a*Or(Ir*n)/Or(me-Ir*n))/3,t=1-(u+o)):n<2/3?(n-=1/3,o=(1-a)/3,t=(1+a*Or(Ir*n)/Or(me-Ir*n))/3,u=1-(o+t)):(n-=2/3,t=(1-a)/3,u=(1+a*Or(Ir*n)/Or(me-Ir*n))/3,o=1-(t+u)),o=be(i*o*3),t=be(i*t*3),u=be(i*u*3),[o*255,t*255,u*255,r.length>3?r[3]:1]},Dt=qt,zt=c.unpack,Gt=c.type,Ht=A,_n=g,En=y,Bt=Ot;_n.prototype.hsi=function(){return Bt(this._rgb)},Ht.hsi=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(_n,[null].concat(r,["hsi"])))},En.format.hsi=Dt,En.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=zt(r,"hsi"),Gt(r)==="array"&&r.length===3)return"hsi"}});var Yt=c.unpack,Wt=c.type,Zt=A,Mn=g,Cn=y,Ut=Qe;Mn.prototype.hsl=function(){return Ut(this._rgb)},Zt.hsl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Mn,[null].concat(r,["hsl"])))},Cn.format.hsl=rn,Cn.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Yt(r,"hsl"),Wt(r)==="array"&&r.length===3)return"hsl"}});var Xt=c.unpack,jt=Math.min,Vt=Math.max,Jt=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=Xt(r,"rgb");var n=r[0],a=r[1],i=r[2],o=jt(n,a,i),t=Vt(n,a,i),u=t-o,l,v,p;return p=t/255,t===0?(l=Number.NaN,v=0):(v=u/t,n===t&&(l=(a-i)/u),a===t&&(l=2+(i-n)/u),i===t&&(l=4+(n-a)/u),l*=60,l<0&&(l+=360)),[l,v,p]},Kt=Jt,Qt=c.unpack,ri=Math.floor,ei=function(){for(var r,e,n,a,i,o,t=[],u=arguments.length;u--;)t[u]=arguments[u];t=Qt(t,"hsv");var l=t[0],v=t[1],p=t[2],k,d,M;if(p*=255,v===0)k=d=M=p;else{l===360&&(l=0),l>360&&(l-=360),l<0&&(l+=360),l/=60;var E=ri(l),D=l-E,H=p*(1-v),U=p*(1-v*D),j=p*(1-v*(1-D));switch(E){case 0:r=[p,j,H],k=r[0],d=r[1],M=r[2];break;case 1:e=[U,p,H],k=e[0],d=e[1],M=e[2];break;case 2:n=[H,p,j],k=n[0],d=n[1],M=n[2];break;case 3:a=[H,U,p],k=a[0],d=a[1],M=a[2];break;case 4:i=[j,H,p],k=i[0],d=i[1],M=i[2];break;case 5:o=[p,H,U],k=o[0],d=o[1],M=o[2];break}}return[k,d,M,t.length>3?t[3]:1]},ni=ei,ai=c.unpack,ti=c.type,ii=A,Tn=g,Pn=y,oi=Kt;Tn.prototype.hsv=function(){return oi(this._rgb)},ii.hsv=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Tn,[null].concat(r,["hsv"])))},Pn.format.hsv=ni,Pn.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=ai(r,"hsv"),ti(r)==="array"&&r.length===3)return"hsv"}});var Qr={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},Fr=Qr,ui=c.unpack,xn=Math.pow,si=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=ui(r,"rgb"),a=n[0],i=n[1],o=n[2],t=li(a,i,o),u=t[0],l=t[1],v=t[2],p=116*l-16;return[p<0?0:p,500*(u-l),200*(l-v)]},ye=function(r){return(r/=255)<=.04045?r/12.92:xn((r+.055)/1.055,2.4)},we=function(r){return r>Fr.t3?xn(r,1/3):r/Fr.t2+Fr.t0},li=function(r,e,n){r=ye(r),e=ye(e),n=ye(n);var a=we((.4124564*r+.3575761*e+.1804375*n)/Fr.Xn),i=we((.2126729*r+.7151522*e+.072175*n)/Fr.Yn),o=we((.0193339*r+.119192*e+.9503041*n)/Fr.Zn);return[a,i,o]},Sn=si,qr=Qr,fi=c.unpack,ci=Math.pow,vi=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=fi(r,"lab");var n=r[0],a=r[1],i=r[2],o,t,u,l,v,p;return t=(n+16)/116,o=isNaN(a)?t:t+a/500,u=isNaN(i)?t:t-i/200,t=qr.Yn*$e(t),o=qr.Xn*$e(o),u=qr.Zn*$e(u),l=ke(3.2404542*o-1.5371385*t-.4985314*u),v=ke(-.969266*o+1.8760108*t+.041556*u),p=ke(.0556434*o-.2040259*t+1.0572252*u),[l,v,p,r.length>3?r[3]:1]},ke=function(r){return 255*(r<=.00304?12.92*r:1.055*ci(r,1/2.4)-.055)},$e=function(r){return r>qr.t1?r*r*r:qr.t2*(r-qr.t0)},Ln=vi,hi=c.unpack,gi=c.type,pi=A,Nn=g,Rn=y,di=Sn;Nn.prototype.lab=function(){return di(this._rgb)},pi.lab=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Nn,[null].concat(r,["lab"])))},Rn.format.lab=Ln,Rn.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=hi(r,"lab"),gi(r)==="array"&&r.length===3)return"lab"}});var bi=c.unpack,mi=c.RAD2DEG,yi=Math.sqrt,wi=Math.atan2,ki=Math.round,$i=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=bi(r,"lab"),a=n[0],i=n[1],o=n[2],t=yi(i*i+o*o),u=(wi(o,i)*mi+360)%360;return ki(t*1e4)===0&&(u=Number.NaN),[a,t,u]},An=$i,_i=c.unpack,Ei=Sn,Mi=An,Ci=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=_i(r,"rgb"),a=n[0],i=n[1],o=n[2],t=Ei(a,i,o),u=t[0],l=t[1],v=t[2];return Mi(u,l,v)},Ti=Ci,Pi=c.unpack,xi=c.DEG2RAD,Si=Math.sin,Li=Math.cos,Ni=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=Pi(r,"lch"),a=n[0],i=n[1],o=n[2];return isNaN(o)&&(o=0),o=o*xi,[a,Li(o)*i,Si(o)*i]},In=Ni,Ri=c.unpack,Ai=In,Ii=Ln,Oi=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=Ri(r,"lch");var n=r[0],a=r[1],i=r[2],o=Ai(n,a,i),t=o[0],u=o[1],l=o[2],v=Ii(t,u,l),p=v[0],k=v[1],d=v[2];return[p,k,d,r.length>3?r[3]:1]},On=Oi,Fi=c.unpack,qi=On,Di=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=Fi(r,"hcl").reverse();return qi.apply(void 0,n)},zi=Di,Gi=c.unpack,Hi=c.type,Fn=A,re=g,_e=y,qn=Ti;re.prototype.lch=function(){return qn(this._rgb)},re.prototype.hcl=function(){return qn(this._rgb).reverse()},Fn.lch=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(re,[null].concat(r,["lch"])))},Fn.hcl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(re,[null].concat(r,["hcl"])))},_e.format.lch=On,_e.format.hcl=zi,["lch","hcl"].forEach(function(r){return _e.autodetect.push({p:2,test:function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(e=Gi(e,r),Hi(e)==="array"&&e.length===3)return r}})});var Bi={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Dn=Bi,Yi=g,zn=y,Wi=c.type,Zr=Dn,Zi=yn,Ui=mn;Yi.prototype.name=function(){for(var r=Ui(this._rgb,"rgb"),e=0,n=Object.keys(Zr);e<n.length;e+=1){var a=n[e];if(Zr[a]===r)return a.toLowerCase()}return r},zn.format.named=function(r){if(r=r.toLowerCase(),Zr[r])return Zi(Zr[r]);throw new Error("unknown color name: "+r)},zn.autodetect.push({p:5,test:function(r){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&Wi(r)==="string"&&Zr[r.toLowerCase()])return"named"}});var Xi=c.unpack,ji=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=Xi(r,"rgb"),a=n[0],i=n[1],o=n[2];return(a<<16)+(i<<8)+o},Vi=ji,Ji=c.type,Ki=function(r){if(Ji(r)=="number"&&r>=0&&r<=16777215){var e=r>>16,n=r>>8&255,a=r&255;return[e,n,a,1]}throw new Error("unknown num color: "+r)},Qi=Ki,ro=A,Gn=g,Hn=y,eo=c.type,no=Vi;Gn.prototype.num=function(){return no(this._rgb)},ro.num=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Gn,[null].concat(r,["num"])))},Hn.format.num=Qi,Hn.autodetect.push({p:5,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r.length===1&&eo(r[0])==="number"&&r[0]>=0&&r[0]<=16777215)return"num"}});var ao=A,Ee=g,Bn=y,Yn=c.unpack,Wn=c.type,Zn=Math.round;Ee.prototype.rgb=function(r){return r===void 0&&(r=!0),r===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Zn)},Ee.prototype.rgba=function(r){return r===void 0&&(r=!0),this._rgb.slice(0,4).map(function(e,n){return n<3?r===!1?e:Zn(e):e})},ao.rgb=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Ee,[null].concat(r,["rgb"])))},Bn.format.rgb=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=Yn(r,"rgba");return n[3]===void 0&&(n[3]=1),n},Bn.autodetect.push({p:3,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Yn(r,"rgba"),Wn(r)==="array"&&(r.length===3||r.length===4&&Wn(r[3])=="number"&&r[3]>=0&&r[3]<=1))return"rgb"}});var ee=Math.log,to=function(r){var e=r/100,n,a,i;return e<66?(n=255,a=e<6?0:-155.25485562709179-.44596950469579133*(a=e-2)+104.49216199393888*ee(a),i=e<20?0:-254.76935184120902+.8274096064007395*(i=e-10)+115.67994401066147*ee(i)):(n=351.97690566805693+.114206453784165*(n=e-55)-40.25366309332127*ee(n),a=325.4494125711974+.07943456536662342*(a=e-50)-28.0852963507957*ee(a),i=255),[n,a,i,1]},Un=to,io=Un,oo=c.unpack,uo=Math.round,so=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];for(var n=oo(r,"rgb"),a=n[0],i=n[2],o=1e3,t=4e4,u=.4,l;t-o>u;){l=(t+o)*.5;var v=io(l);v[2]/v[0]>=i/a?t=l:o=l}return uo(l)},lo=so,Me=A,ne=g,Ce=y,fo=lo;ne.prototype.temp=ne.prototype.kelvin=ne.prototype.temperature=function(){return fo(this._rgb)},Me.temp=Me.kelvin=Me.temperature=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(ne,[null].concat(r,["temp"])))},Ce.format.temp=Ce.format.kelvin=Ce.format.temperature=Un;var co=c.unpack,Te=Math.cbrt,vo=Math.pow,ho=Math.sign,go=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=co(r,"rgb"),a=n[0],i=n[1],o=n[2],t=[Pe(a/255),Pe(i/255),Pe(o/255)],u=t[0],l=t[1],v=t[2],p=Te(.4122214708*u+.5363325363*l+.0514459929*v),k=Te(.2119034982*u+.6806995451*l+.1073969566*v),d=Te(.0883024619*u+.2817188376*l+.6299787005*v);return[.2104542553*p+.793617785*k-.0040720468*d,1.9779984951*p-2.428592205*k+.4505937099*d,.0259040371*p+.7827717662*k-.808675766*d]},Xn=go;function Pe(r){var e=Math.abs(r);return e<.04045?r/12.92:(ho(r)||1)*vo((e+.055)/1.055,2.4)}var po=c.unpack,ae=Math.pow,bo=Math.sign,mo=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=po(r,"lab");var n=r[0],a=r[1],i=r[2],o=ae(n+.3963377774*a+.2158037573*i,3),t=ae(n-.1055613458*a-.0638541728*i,3),u=ae(n-.0894841775*a-1.291485548*i,3);return[255*xe(4.0767416621*o-3.3077115913*t+.2309699292*u),255*xe(-1.2684380046*o+2.6097574011*t-.3413193965*u),255*xe(-.0041960863*o-.7034186147*t+1.707614701*u),r.length>3?r[3]:1]},jn=mo;function xe(r){var e=Math.abs(r);return e>.0031308?(bo(r)||1)*(1.055*ae(e,1/2.4)-.055):r*12.92}var yo=c.unpack,wo=c.type,ko=A,Vn=g,Jn=y,$o=Xn;Vn.prototype.oklab=function(){return $o(this._rgb)},ko.oklab=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Vn,[null].concat(r,["oklab"])))},Jn.format.oklab=jn,Jn.autodetect.push({p:3,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=yo(r,"oklab"),wo(r)==="array"&&r.length===3)return"oklab"}});var _o=c.unpack,Eo=Xn,Mo=An,Co=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=_o(r,"rgb"),a=n[0],i=n[1],o=n[2],t=Eo(a,i,o),u=t[0],l=t[1],v=t[2];return Mo(u,l,v)},To=Co,Po=c.unpack,xo=In,So=jn,Lo=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=Po(r,"lch");var n=r[0],a=r[1],i=r[2],o=xo(n,a,i),t=o[0],u=o[1],l=o[2],v=So(t,u,l),p=v[0],k=v[1],d=v[2];return[p,k,d,r.length>3?r[3]:1]},No=Lo,Ro=c.unpack,Ao=c.type,Io=A,Kn=g,Qn=y,Oo=To;Kn.prototype.oklch=function(){return Oo(this._rgb)},Io.oklch=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Kn,[null].concat(r,["oklch"])))},Qn.format.oklch=No,Qn.autodetect.push({p:3,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Ro(r,"oklch"),Ao(r)==="array"&&r.length===3)return"oklch"}});var ra=g,Fo=c.type;ra.prototype.alpha=function(r,e){return e===void 0&&(e=!1),r!==void 0&&Fo(r)==="number"?e?(this._rgb[3]=r,this):new ra([this._rgb[0],this._rgb[1],this._rgb[2],r],"rgb"):this._rgb[3]};var qo=g;qo.prototype.clipped=function(){return this._rgb._clipped||!1};var xr=g,Do=Qr;xr.prototype.darken=function(r){r===void 0&&(r=1);var e=this,n=e.lab();return n[0]-=Do.Kn*r,new xr(n,"lab").alpha(e.alpha(),!0)},xr.prototype.brighten=function(r){return r===void 0&&(r=1),this.darken(-r)},xr.prototype.darker=xr.prototype.darken,xr.prototype.brighter=xr.prototype.brighten;var zo=g;zo.prototype.get=function(r){var e=r.split("."),n=e[0],a=e[1],i=this[n]();if(a){var o=n.indexOf(a)-(n.substr(0,2)==="ok"?2:0);if(o>-1)return i[o];throw new Error("unknown channel "+a+" in mode "+n)}else return i};var Dr=g,Go=c.type,Ho=Math.pow,Bo=1e-7,Yo=20;Dr.prototype.luminance=function(r){if(r!==void 0&&Go(r)==="number"){if(r===0)return new Dr([0,0,0,this._rgb[3]],"rgb");if(r===1)return new Dr([255,255,255,this._rgb[3]],"rgb");var e=this.luminance(),n="rgb",a=Yo,i=function(t,u){var l=t.interpolate(u,.5,n),v=l.luminance();return Math.abs(r-v)<Bo||!a--?l:v>r?i(t,l):i(l,u)},o=(e>r?i(new Dr([0,0,0]),this):i(this,new Dr([255,255,255]))).rgb();return new Dr(o.concat([this._rgb[3]]))}return Wo.apply(void 0,this._rgb.slice(0,3))};var Wo=function(r,e,n){return r=Se(r),e=Se(e),n=Se(n),.2126*r+.7152*e+.0722*n},Se=function(r){return r/=255,r<=.03928?r/12.92:Ho((r+.055)/1.055,2.4)},lr={},ea=g,na=c.type,te=lr,aa=function(r,e,n){n===void 0&&(n=.5);for(var a=[],i=arguments.length-3;i-- >0;)a[i]=arguments[i+3];var o=a[0]||"lrgb";if(!te[o]&&!a.length&&(o=Object.keys(te)[0]),!te[o])throw new Error("interpolation mode "+o+" is not defined");return na(r)!=="object"&&(r=new ea(r)),na(e)!=="object"&&(e=new ea(e)),te[o](r,e,n).alpha(r.alpha()+n*(e.alpha()-r.alpha()))},ta=g,Zo=aa;ta.prototype.mix=ta.prototype.interpolate=function(r,e){e===void 0&&(e=.5);for(var n=[],a=arguments.length-2;a-- >0;)n[a]=arguments[a+2];return Zo.apply(void 0,[this,r,e].concat(n))};var ia=g;ia.prototype.premultiply=function(r){r===void 0&&(r=!1);var e=this._rgb,n=e[3];return r?(this._rgb=[e[0]*n,e[1]*n,e[2]*n,n],this):new ia([e[0]*n,e[1]*n,e[2]*n,n],"rgb")};var Le=g,Uo=Qr;Le.prototype.saturate=function(r){r===void 0&&(r=1);var e=this,n=e.lch();return n[1]+=Uo.Kn*r,n[1]<0&&(n[1]=0),new Le(n,"lch").alpha(e.alpha(),!0)},Le.prototype.desaturate=function(r){return r===void 0&&(r=1),this.saturate(-r)};var oa=g,ua=c.type;oa.prototype.set=function(r,e,n){n===void 0&&(n=!1);var a=r.split("."),i=a[0],o=a[1],t=this[i]();if(o){var u=i.indexOf(o)-(i.substr(0,2)==="ok"?2:0);if(u>-1){if(ua(e)=="string")switch(e.charAt(0)){case"+":t[u]+=+e;break;case"-":t[u]+=+e;break;case"*":t[u]*=+e.substr(1);break;case"/":t[u]/=+e.substr(1);break;default:t[u]=+e}else if(ua(e)==="number")t[u]=e;else throw new Error("unsupported value for Color.set");var l=new oa(t,i);return n?(this._rgb=l._rgb,this):l}throw new Error("unknown channel "+o+" in mode "+i)}else return t};var Xo=g,jo=function(r,e,n){var a=r._rgb,i=e._rgb;return new Xo(a[0]+n*(i[0]-a[0]),a[1]+n*(i[1]-a[1]),a[2]+n*(i[2]-a[2]),"rgb")};lr.rgb=jo;var Vo=g,Ne=Math.sqrt,zr=Math.pow,Jo=function(r,e,n){var a=r._rgb,i=a[0],o=a[1],t=a[2],u=e._rgb,l=u[0],v=u[1],p=u[2];return new Vo(Ne(zr(i,2)*(1-n)+zr(l,2)*n),Ne(zr(o,2)*(1-n)+zr(v,2)*n),Ne(zr(t,2)*(1-n)+zr(p,2)*n),"rgb")};lr.lrgb=Jo;var Ko=g,Qo=function(r,e,n){var a=r.lab(),i=e.lab();return new Ko(a[0]+n*(i[0]-a[0]),a[1]+n*(i[1]-a[1]),a[2]+n*(i[2]-a[2]),"lab")};lr.lab=Qo;var sa=g,Gr=function(r,e,n,a){var i,o,t,u;a==="hsl"?(t=r.hsl(),u=e.hsl()):a==="hsv"?(t=r.hsv(),u=e.hsv()):a==="hcg"?(t=r.hcg(),u=e.hcg()):a==="hsi"?(t=r.hsi(),u=e.hsi()):a==="lch"||a==="hcl"?(a="hcl",t=r.hcl(),u=e.hcl()):a==="oklch"&&(t=r.oklch().reverse(),u=e.oklch().reverse());var l,v,p,k,d,M;(a.substr(0,1)==="h"||a==="oklch")&&(i=t,l=i[0],p=i[1],d=i[2],o=u,v=o[0],k=o[1],M=o[2]);var E,D,H,U;return!isNaN(l)&&!isNaN(v)?(v>l&&v-l>180?U=v-(l+360):v<l&&l-v>180?U=v+360-l:U=v-l,D=l+n*U):isNaN(l)?isNaN(v)?D=Number.NaN:(D=v,(d==1||d==0)&&a!="hsv"&&(E=k)):(D=l,(M==1||M==0)&&a!="hsv"&&(E=p)),E===void 0&&(E=p+n*(k-p)),H=d+n*(M-d),a==="oklch"?new sa([H,E,D],a):new sa([D,E,H],a)},ru=Gr,la=function(r,e,n){return ru(r,e,n,"lch")};lr.lch=la,lr.hcl=la;var eu=g,nu=function(r,e,n){var a=r.num(),i=e.num();return new eu(a+n*(i-a),"num")};lr.num=nu;var au=Gr,tu=function(r,e,n){return au(r,e,n,"hcg")};lr.hcg=tu;var iu=Gr,ou=function(r,e,n){return iu(r,e,n,"hsi")};lr.hsi=ou;var uu=Gr,su=function(r,e,n){return uu(r,e,n,"hsl")};lr.hsl=su;var lu=Gr,fu=function(r,e,n){return lu(r,e,n,"hsv")};lr.hsv=fu;var cu=g,vu=function(r,e,n){var a=r.oklab(),i=e.oklab();return new cu(a[0]+n*(i[0]-a[0]),a[1]+n*(i[1]-a[1]),a[2]+n*(i[2]-a[2]),"oklab")};lr.oklab=vu;var hu=Gr,gu=function(r,e,n){return hu(r,e,n,"oklch")};lr.oklch=gu;var Re=g,pu=c.clip_rgb,Ae=Math.pow,Ie=Math.sqrt,Oe=Math.PI,fa=Math.cos,ca=Math.sin,du=Math.atan2,bu=function(r,e,n){e===void 0&&(e="lrgb"),n===void 0&&(n=null);var a=r.length;n||(n=Array.from(new Array(a)).map(function(){return 1}));var i=a/n.reduce(function(D,H){return D+H});if(n.forEach(function(D,H){n[H]*=i}),r=r.map(function(D){return new Re(D)}),e==="lrgb")return mu(r,n);for(var o=r.shift(),t=o.get(e),u=[],l=0,v=0,p=0;p<t.length;p++)if(t[p]=(t[p]||0)*n[0],u.push(isNaN(t[p])?0:n[0]),e.charAt(p)==="h"&&!isNaN(t[p])){var k=t[p]/180*Oe;l+=fa(k)*n[0],v+=ca(k)*n[0]}var d=o.alpha()*n[0];r.forEach(function(D,H){var U=D.get(e);d+=D.alpha()*n[H+1];for(var j=0;j<t.length;j++)if(!isNaN(U[j]))if(u[j]+=n[H+1],e.charAt(j)==="h"){var or=U[j]/180*Oe;l+=fa(or)*n[H+1],v+=ca(or)*n[H+1]}else t[j]+=U[j]*n[H+1]});for(var M=0;M<t.length;M++)if(e.charAt(M)==="h"){for(var E=du(v/u[M],l/u[M])/Oe*180;E<0;)E+=360;for(;E>=360;)E-=360;t[M]=E}else t[M]=t[M]/u[M];return d/=a,new Re(t,e).alpha(d>.99999?1:d,!0)},mu=function(r,e){for(var n=r.length,a=[0,0,0,0],i=0;i<r.length;i++){var o=r[i],t=e[i]/n,u=o._rgb;a[0]+=Ae(u[0],2)*t,a[1]+=Ae(u[1],2)*t,a[2]+=Ae(u[2],2)*t,a[3]+=u[3]*t}return a[0]=Ie(a[0]),a[1]=Ie(a[1]),a[2]=Ie(a[2]),a[3]>.9999999&&(a[3]=1),new Re(pu(a))},hr=A,Hr=c.type,yu=Math.pow,Fe=function(r){var e="rgb",n=hr("#ccc"),a=0,i=[0,1],o=[],t=[0,0],u=!1,l=[],v=!1,p=0,k=1,d=!1,M={},E=!0,D=1,H=function(b){if(b=b||["#fff","#000"],b&&Hr(b)==="string"&&hr.brewer&&hr.brewer[b.toLowerCase()]&&(b=hr.brewer[b.toLowerCase()]),Hr(b)==="array"){b.length===1&&(b=[b[0],b[0]]),b=b.slice(0);for(var L=0;L<b.length;L++)b[L]=hr(b[L]);o.length=0;for(var G=0;G<b.length;G++)o.push(G/(b.length-1))}return sr(),l=b},U=function(b){if(u!=null){for(var L=u.length-1,G=0;G<L&&b>=u[G];)G++;return G-1}return 0},j=function(b){return b},or=function(b){return b},tr=function(b,L){var G,z;if(L==null&&(L=!1),isNaN(b)||b===null)return n;if(L)z=b;else if(u&&u.length>2){var ur=U(b);z=ur/(u.length-2)}else k!==p?z=(b-p)/(k-p):z=1;z=or(z),L||(z=j(z)),D!==1&&(z=yu(z,D)),z=t[0]+z*(1-t[0]-t[1]),z=Math.min(1,Math.max(0,z));var Q=Math.floor(z*1e4);if(E&&M[Q])G=M[Q];else{if(Hr(l)==="array")for(var X=0;X<o.length;X++){var V=o[X];if(z<=V){G=l[X];break}if(z>=V&&X===o.length-1){G=l[X];break}if(z>V&&z<o[X+1]){z=(z-V)/(o[X+1]-V),G=hr.interpolate(l[X],l[X+1],z,e);break}}else Hr(l)==="function"&&(G=l(z));E&&(M[Q]=G)}return G},sr=function(){return M={}};H(r);var W=function(b){var L=hr(tr(b));return v&&L[v]?L[v]():L};return W.classes=function(b){if(b!=null){if(Hr(b)==="array")u=b,i=[b[0],b[b.length-1]];else{var L=hr.analyze(i);b===0?u=[L.min,L.max]:u=hr.limits(L,"e",b)}return W}return u},W.domain=function(b){if(!arguments.length)return i;p=b[0],k=b[b.length-1],o=[];var L=l.length;if(b.length===L&&p!==k)for(var G=0,z=Array.from(b);G<z.length;G+=1){var ur=z[G];o.push((ur-p)/(k-p))}else{for(var Q=0;Q<L;Q++)o.push(Q/(L-1));if(b.length>2){var X=b.map(function(J,K){return K/(b.length-1)}),V=b.map(function(J){return(J-p)/(k-p)});V.every(function(J,K){return X[K]===J})||(or=function(J){if(J<=0||J>=1)return J;for(var K=0;J>=V[K+1];)K++;var pr=(J-V[K])/(V[K+1]-V[K]),Er=X[K]+pr*(X[K+1]-X[K]);return Er})}}return i=[p,k],W},W.mode=function(b){return arguments.length?(e=b,sr(),W):e},W.range=function(b,L){return H(b),W},W.out=function(b){return v=b,W},W.spread=function(b){return arguments.length?(a=b,W):a},W.correctLightness=function(b){return b==null&&(b=!0),d=b,sr(),d?j=function(L){for(var G=tr(0,!0).lab()[0],z=tr(1,!0).lab()[0],ur=G>z,Q=tr(L,!0).lab()[0],X=G+(z-G)*L,V=Q-X,J=0,K=1,pr=20;Math.abs(V)>.01&&pr-- >0;)(function(){return ur&&(V*=-1),V<0?(J=L,L+=(K-L)*.5):(K=L,L+=(J-L)*.5),Q=tr(L,!0).lab()[0],V=Q-X})();return L}:j=function(L){return L},W},W.padding=function(b){return b!=null?(Hr(b)==="number"&&(b=[b,b]),t=b,W):t},W.colors=function(b,L){arguments.length<2&&(L="hex");var G=[];if(arguments.length===0)G=l.slice(0);else if(b===1)G=[W(.5)];else if(b>1){var z=i[0],ur=i[1]-z;G=wu(0,b).map(function(K){return W(z+K/(b-1)*ur)})}else{r=[];var Q=[];if(u&&u.length>2)for(var X=1,V=u.length,J=1<=V;J?X<V:X>V;J?X++:X--)Q.push((u[X-1]+u[X])*.5);else Q=i;G=Q.map(function(K){return W(K)})}return hr[L]&&(G=G.map(function(K){return K[L]()})),G},W.cache=function(b){return b!=null?(E=b,W):E},W.gamma=function(b){return b!=null?(D=b,W):D},W.nodata=function(b){return b!=null?(n=hr(b),W):n},W};function wu(r,e,n){for(var a=[],i=r<e,o=e,t=r;i?t<o:t>o;i?t++:t--)a.push(t);return a}var Ur=g,ku=Fe,$u=function(r){for(var e=[1,1],n=1;n<r;n++){for(var a=[1],i=1;i<=e.length;i++)a[i]=(e[i]||0)+e[i-1];e=a}return e},_u=function(r){var e,n,a,i,o,t,u;if(r=r.map(function(d){return new Ur(d)}),r.length===2)e=r.map(function(d){return d.lab()}),o=e[0],t=e[1],i=function(d){var M=[0,1,2].map(function(E){return o[E]+d*(t[E]-o[E])});return new Ur(M,"lab")};else if(r.length===3)n=r.map(function(d){return d.lab()}),o=n[0],t=n[1],u=n[2],i=function(d){var M=[0,1,2].map(function(E){return(1-d)*(1-d)*o[E]+2*(1-d)*d*t[E]+d*d*u[E]});return new Ur(M,"lab")};else if(r.length===4){var l;a=r.map(function(d){return d.lab()}),o=a[0],t=a[1],u=a[2],l=a[3],i=function(d){var M=[0,1,2].map(function(E){return(1-d)*(1-d)*(1-d)*o[E]+3*(1-d)*(1-d)*d*t[E]+3*(1-d)*d*d*u[E]+d*d*d*l[E]});return new Ur(M,"lab")}}else if(r.length>=5){var v,p,k;v=r.map(function(d){return d.lab()}),k=r.length-1,p=$u(k),i=function(d){var M=1-d,E=[0,1,2].map(function(D){return v.reduce(function(H,U,j){return H+p[j]*Math.pow(M,k-j)*Math.pow(d,j)*U[D]},0)});return new Ur(E,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return i},Eu=function(r){var e=_u(r);return e.scale=function(){return ku(e)},e},qe=A,gr=function(r,e,n){if(!gr[n])throw new Error("unknown blend mode "+n);return gr[n](r,e)},$r=function(r){return function(e,n){var a=qe(n).rgb(),i=qe(e).rgb();return qe.rgb(r(a,i))}},_r=function(r){return function(e,n){var a=[];return a[0]=r(e[0],n[0]),a[1]=r(e[1],n[1]),a[2]=r(e[2],n[2]),a}},Mu=function(r){return r},Cu=function(r,e){return r*e/255},Tu=function(r,e){return r>e?e:r},Pu=function(r,e){return r>e?r:e},xu=function(r,e){return 255*(1-(1-r/255)*(1-e/255))},Su=function(r,e){return e<128?2*r*e/255:255*(1-2*(1-r/255)*(1-e/255))},Lu=function(r,e){return 255*(1-(1-e/255)/(r/255))},Nu=function(r,e){return r===255?255:(r=255*(e/255)/(1-r/255),r>255?255:r)};gr.normal=$r(_r(Mu)),gr.multiply=$r(_r(Cu)),gr.screen=$r(_r(xu)),gr.overlay=$r(_r(Su)),gr.darken=$r(_r(Tu)),gr.lighten=$r(_r(Pu)),gr.dodge=$r(_r(Nu)),gr.burn=$r(_r(Lu));for(var Ru=gr,De=c.type,Au=c.clip_rgb,Iu=c.TWOPI,Ou=Math.pow,Fu=Math.sin,qu=Math.cos,va=A,Du=function(r,e,n,a,i){r===void 0&&(r=300),e===void 0&&(e=-1.5),n===void 0&&(n=1),a===void 0&&(a=1),i===void 0&&(i=[0,1]);var o=0,t;De(i)==="array"?t=i[1]-i[0]:(t=0,i=[i,i]);var u=function(l){var v=Iu*((r+120)/360+e*l),p=Ou(i[0]+t*l,a),k=o!==0?n[0]+l*o:n,d=k*p*(1-p)/2,M=qu(v),E=Fu(v),D=p+d*(-.14861*M+1.78277*E),H=p+d*(-.29227*M-.90649*E),U=p+d*(1.97294*M);return va(Au([D*255,H*255,U*255,1]))};return u.start=function(l){return l==null?r:(r=l,u)},u.rotations=function(l){return l==null?e:(e=l,u)},u.gamma=function(l){return l==null?a:(a=l,u)},u.hue=function(l){return l==null?n:(n=l,De(n)==="array"?(o=n[1]-n[0],o===0&&(n=n[1])):o=0,u)},u.lightness=function(l){return l==null?i:(De(l)==="array"?(i=l,t=l[1]-l[0]):(i=[l,l],t=0),u)},u.scale=function(){return va.scale(u)},u.hue(n),u},zu=g,Gu="0123456789abcdef",Hu=Math.floor,Bu=Math.random,Yu=function(){for(var r="#",e=0;e<6;e++)r+=Gu.charAt(Hu(Bu()*16));return new zu(r,"hex")},ze=Y,ha=Math.log,Wu=Math.pow,Zu=Math.floor,Uu=Math.abs,ga=function(r,e){e===void 0&&(e=null);var n={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return ze(r)==="object"&&(r=Object.values(r)),r.forEach(function(a){e&&ze(a)==="object"&&(a=a[e]),a!=null&&!isNaN(a)&&(n.values.push(a),n.sum+=a,a<n.min&&(n.min=a),a>n.max&&(n.max=a),n.count+=1)}),n.domain=[n.min,n.max],n.limits=function(a,i){return pa(n,a,i)},n},pa=function(r,e,n){e===void 0&&(e="equal"),n===void 0&&(n=7),ze(r)=="array"&&(r=ga(r));var a=r.min,i=r.max,o=r.values.sort(function(He,Be){return He-Be});if(n===1)return[a,i];var t=[];if(e.substr(0,1)==="c"&&(t.push(a),t.push(i)),e.substr(0,1)==="e"){t.push(a);for(var u=1;u<n;u++)t.push(a+u/n*(i-a));t.push(i)}else if(e.substr(0,1)==="l"){if(a<=0)throw new Error("Logarithmic scales are only possible for values > 0");var l=Math.LOG10E*ha(a),v=Math.LOG10E*ha(i);t.push(a);for(var p=1;p<n;p++)t.push(Wu(10,l+p/n*(v-l)));t.push(i)}else if(e.substr(0,1)==="q"){t.push(a);for(var k=1;k<n;k++){var d=(o.length-1)*k/n,M=Zu(d);if(M===d)t.push(o[M]);else{var E=d-M;t.push(o[M]*(1-E)+o[M+1]*E)}}t.push(i)}else if(e.substr(0,1)==="k"){var D,H=o.length,U=new Array(H),j=new Array(n),or=!0,tr=0,sr=null;sr=[],sr.push(a);for(var W=1;W<n;W++)sr.push(a+W/n*(i-a));for(sr.push(i);or;){for(var b=0;b<n;b++)j[b]=0;for(var L=0;L<H;L++)for(var G=o[L],z=Number.MAX_VALUE,ur=void 0,Q=0;Q<n;Q++){var X=Uu(sr[Q]-G);X<z&&(z=X,ur=Q),j[ur]++,U[L]=ur}for(var V=new Array(n),J=0;J<n;J++)V[J]=null;for(var K=0;K<H;K++)D=U[K],V[D]===null?V[D]=o[K]:V[D]+=o[K];for(var pr=0;pr<n;pr++)V[pr]*=1/j[pr];or=!1;for(var Er=0;Er<n;Er++)if(V[Er]!==sr[Er]){or=!0;break}sr=V,tr++,tr>200&&(or=!1)}for(var Mr={},Br=0;Br<n;Br++)Mr[Br]=[];for(var Yr=0;Yr<H;Yr++)D=U[Yr],Mr[D].push(o[Yr]);for(var wr=[],Sr=0;Sr<n;Sr++)wr.push(Mr[Sr][0]),wr.push(Mr[Sr][Mr[Sr].length-1]);wr=wr.sort(function(He,Be){return He-Be}),t.push(wr[0]);for(var Xr=1;Xr<wr.length;Xr+=2){var Lr=wr[Xr];!isNaN(Lr)&&t.indexOf(Lr)===-1&&t.push(Lr)}}return t},da={analyze:ga,limits:pa},ba=g,Xu=function(r,e){r=new ba(r),e=new ba(e);var n=r.luminance(),a=e.luminance();return n>a?(n+.05)/(a+.05):(a+.05)/(n+.05)},ma=g,yr=Math.sqrt,nr=Math.pow,ju=Math.min,Vu=Math.max,ya=Math.atan2,wa=Math.abs,ie=Math.cos,ka=Math.sin,Ju=Math.exp,$a=Math.PI,Ku=function(r,e,n,a,i){n===void 0&&(n=1),a===void 0&&(a=1),i===void 0&&(i=1);var o=function(Lr){return 360*Lr/(2*$a)},t=function(Lr){return 2*$a*Lr/360};r=new ma(r),e=new ma(e);var u=Array.from(r.lab()),l=u[0],v=u[1],p=u[2],k=Array.from(e.lab()),d=k[0],M=k[1],E=k[2],D=(l+d)/2,H=yr(nr(v,2)+nr(p,2)),U=yr(nr(M,2)+nr(E,2)),j=(H+U)/2,or=.5*(1-yr(nr(j,7)/(nr(j,7)+nr(25,7)))),tr=v*(1+or),sr=M*(1+or),W=yr(nr(tr,2)+nr(p,2)),b=yr(nr(sr,2)+nr(E,2)),L=(W+b)/2,G=o(ya(p,tr)),z=o(ya(E,sr)),ur=G>=0?G:G+360,Q=z>=0?z:z+360,X=wa(ur-Q)>180?(ur+Q+360)/2:(ur+Q)/2,V=1-.17*ie(t(X-30))+.24*ie(t(2*X))+.32*ie(t(3*X+6))-.2*ie(t(4*X-63)),J=Q-ur;J=wa(J)<=180?J:Q<=ur?J+360:J-360,J=2*yr(W*b)*ka(t(J)/2);var K=d-l,pr=b-W,Er=1+.015*nr(D-50,2)/yr(20+nr(D-50,2)),Mr=1+.045*L,Br=1+.015*L*V,Yr=30*Ju(-nr((X-275)/25,2)),wr=2*yr(nr(L,7)/(nr(L,7)+nr(25,7))),Sr=-wr*ka(2*t(Yr)),Xr=yr(nr(K/(n*Er),2)+nr(pr/(a*Mr),2)+nr(J/(i*Br),2)+Sr*(pr/(a*Mr))*(J/(i*Br)));return Vu(0,ju(100,Xr))},_a=g,Qu=function(r,e,n){n===void 0&&(n="lab"),r=new _a(r),e=new _a(e);var a=r.get(n),i=e.get(n),o=0;for(var t in a){var u=(a[t]||0)-(i[t]||0);o+=u*u}return Math.sqrt(o)},rs=g,es=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];try{return new(Function.prototype.bind.apply(rs,[null].concat(r))),!0}catch{return!1}},Ea=A,Ma=Fe,ns={cool:function(){return Ma([Ea.hsl(180,1,.9),Ea.hsl(250,.7,.4)])},hot:function(){return Ma(["#000","#f00","#ff0","#fff"]).mode("rgb")}},oe={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Ge=0,Ca=Object.keys(oe);Ge<Ca.length;Ge+=1){var Ta=Ca[Ge];oe[Ta.toLowerCase()]=oe[Ta]}var as=oe,ar=A;ar.average=bu,ar.bezier=Eu,ar.blend=Ru,ar.cubehelix=Du,ar.mix=ar.interpolate=aa,ar.random=Yu,ar.scale=Fe,ar.analyze=da.analyze,ar.contrast=Xu,ar.deltaE=Ku,ar.distance=Qu,ar.limits=da.limits,ar.valid=es,ar.scales=ns,ar.colors=Dn,ar.brewer=as;var ts=ar;return ts})})(Ia);var ds=Ia.exports;const bs=os(ds),Oa={},We={};function ms(s){if(We[s])return We[s];const f=`#${s.toString(16).padStart(6,"0")}`.toLowerCase();return Oa[f]=s,We[s]=f,f}function ys(s){return Oa[s.toLowerCase()]}function Ze(s){return s.toString(16).padStart(2,"0").toLowerCase()}function ws(s,f,h){return`#${Ze(s)}${Ze(f)}${Ze(h)}`}function ks(s){return bs(s).rgba()}const xa="picking",$s="rendering";function _s(s,f,h){const m=P.useRef({}),_=P.useRef({}),x=P.useRef(se.reduce((R,S)=>({...R,[S]:new Set}),{})),F=P.useRef(Ye.reduce((R,S)=>({...R,[S]:new Set}),{})),$=P.useRef(f),C=P.useRef(null),Y=Aa(s),[B,w]=P.useState(null),N=P.useCallback((R,S)=>{se.forEach(O=>{if(S&&!S.has(O))return;const g=_.current[`${xa}-${O}`],Z=x.current[O];if(g){g.clearRect(0,0,g.canvas.width,g.canvas.height);const A=g.getImageData(0,0,g.canvas.width,g.canvas.height);Z.forEach(rr=>rr(A,R)),g.putImageData(A,0,0)}})},[]),I=P.useCallback((R,S)=>{Ye.forEach(O=>{if(S&&!S.has(O))return;const g=_.current[`${$s}-${O}`],Z=F.current[O];g&&(g.clearRect(0,0,g.canvas.width,g.canvas.height),Z.forEach(A=>A(g,R)))})},[]),T=P.useCallback(()=>{I($.current),N($.current),C.current&&(window.cancelAnimationFrame(C.current.frameId),C.current=null)},[]),c=P.useCallback(()=>{C.current||(C.current={frameId:window.requestAnimationFrame(T)})},[]),y=P.useCallback(({type:R,layer:S,fn:O})=>{if(R==="picking"){const g=x.current[S];if(g.has(O))throw new Error("This picking function has already been registered.");g.add(O)}else if(R==="rendering"){const g=F.current[S];if(g.has(O))throw new Error("This drawing function has already been registered.");g.add(O)}c()},[]),q=P.useCallback(({type:R,layer:S,fn:O})=>{if(R==="picking"){const g=x.current[S];if(!g.has(O))throw new Error("This picking function has not been registered.");g.delete(O)}else if(R==="rendering"){const g=F.current[S];if(!g.has(O))throw new Error("This drawing function has not been registered.");g.delete(O)}c()},[]);return P.useEffect(()=>{if(!s)return;const R=m.current,S=_.current;[...Ye.map(g=>({layer:g,type:"rendering"})),...se.map(g=>({layer:g,type:"picking"}))].forEach(({layer:g,type:Z})=>{const A=`${Z}-${g}`;if(!R[A]){const rr=document.createElement("CANVAS"),fr=rr.getContext("2d");rr.style.position="absolute",rr.style.inset="0",s.appendChild(rr),R[A]=rr,S[A]=fr,Z==="picking"&&(rr.style.display="none")}})},[s]),P.useEffect(()=>{$.current=f,T()},[f.fingerprint]),P.useEffect(()=>{for(const R in m.current){const S=m.current[R];S&&(S.style.width=Y.width+"px",S.style.height=Y.height+"px",S.setAttribute("width",Y.width+"px"),S.setAttribute("height",Y.height+"px"))}T()},[Y]),P.useEffect(()=>{let R=null;se.some(S=>{const O=_.current[`${xa}-${S}`];if(O&&h){const[g,Z,A,rr]=O.getImageData(h.x,h.y,1,1).data;if(rr===255){const fr=ws(g,Z,A);return R={layer:S,index:ys(fr)},!0}}return!1}),vr.isEqual(R,B)||w(R)},[h,B]),{canvasContext:P.useMemo(()=>({register:y,unregister:q}),[y,q]),hoveredItem:B}}function Es(s,f){const{register:h,unregister:m}=P.useContext(Ke);P.useEffect(()=>(h({type:"picking",layer:s,fn:f}),()=>{m({type:"picking",layer:s,fn:f})}),[s,f,h,m])}function ve(s,f){const{register:h,unregister:m}=P.useContext(Ke);P.useEffect(()=>(h({type:"rendering",layer:s,fn:f}),()=>{m({type:"rendering",layer:s,fn:f})}),[s,f,h,m])}const Ms="#000000",Nr="#2170B9",Cs="#EDEDED",Ue="#B6B2AF",Ts="#797671",Ps="#FFFFFFC0",Xe=10,xs="IBM Plex Sans",Je=1e3,Rr=60*Je,jr=60*Rr,fl=1e3,Fa=[.2,.4,.8,2.4,12,32,72,1/0],qa=[10*Je,30*Je,1*Rr,5*Rr,15*Rr,30*Rr,1*jr,3*jr,6*jr,12*jr,24*jr],Ss={1:{width:.5,color:Nr,opacity:.75},2:{width:.5,color:Nr,opacity:.25},3:{width:.5,color:Cs}},Ls=()=>{const s=P.useCallback((f,{xOffset:h,getY:m,operationalPoints:_})=>{const x=f.canvas.width;_.forEach(F=>{const $=Ss[F.importanceLevel||0];if(!$)return;f.strokeStyle=$.color,f.lineWidth=$.width,f.globalAlpha=$.opacity||1,$.dashArray&&(f.setLineDash($.dashArray||[]),f.lineDashOffset=-h);const C=m(F.position);typeof C=="number"&&(f.beginPath(),f.moveTo(0,C),f.lineTo(x,C),f.stroke())}),f.setLineDash([]),f.lineDashOffset=0,f.globalAlpha=1},[]);return ve("graduations",s),null},Ns=[[0,0,0,0,0,0,0,0,1,1,1],[0,0,0,0,0,0,0,1,1,1,1],[0,0,0,0,0,0,1,1,1,1,1],[0,0,0,0,0,3,1,1,1,1,1],[0,0,0,3,2,1,1,1,1,1,1],[0,0,0,3,2,1,1,1,1,1,1],[0,0,3,2,1,1,1,1,1,1,1],[0,0,3,2,1,1,1,1,1,1,1]],le=s=>`:${new Date(s).getMinutes().toString().padStart(2,"0")}`,Vr=(s,f)=>{const h=new Date(s);if(f>1){const m=h.getUTCHours().toString().padStart(2,"0"),_=h.getMinutes().toString().padStart(2,"0");return`${m}:${_}`}else return h.getUTCHours().toString().padStart(2,"0")},fe=33,Rs=[()=>"",()=>"",le,le,le,le,Vr,Vr,Vr,Vr,Vr],As={1:{color:Ts,fontSize:12,topOffset:11},2:{color:Ue,fontSize:12,topOffset:9},3:{color:Ue,fontSize:10,topOffset:6},4:{color:Ue,fontSize:8,topOffset:8}},Is=()=>{const s=P.useCallback((f,{timeScale:h,timeOrigin:m,xOffset:_,getX:x})=>{const F=f.canvas.width,$=f.canvas.height,C=m-h*_,Y=C+h*F,B=1/h*Rr;let w=[];Fa.some((I,T)=>B<I?(w=Ns[T],!0):!1);const N={};qa.map((I,T)=>{const c=w[T];if(!c)return;let y=Math.floor(C/I)*I;for(;y<=Y;)c&&(N[y]={level:c,rangeIndex:T}),y+=I}),f.fillStyle="white",f.fillRect(0,$-fe,F,$),f.strokeStyle="#979797",f.lineWidth=2,f.beginPath(),f.moveTo(0,$-fe),f.lineTo(F,$-fe),f.stroke();for(const I in N){const{level:T,rangeIndex:c}=N[I],y=As[T],q=Rs[c],er=q(+I,B);f.textAlign="center",f.textBaseline="top",f.fillStyle=y.color,f.font=`${y.fontWeight||"normal"} ${y.fontSize}px ${xs}`,f.fillText(er,x(+I),$-fe+(y.topOffset||0))}},[]);return ve("captions",s),null},Os=[[0,0,0,0,0,0,0,4,3,2,1],[0,0,0,0,0,0,4,3,3,2,1],[0,0,0,0,0,6,4,3,3,2,1],[0,0,0,0,6,5,4,3,3,2,1],[0,0,0,6,5,4,3,2,2,2,1],[0,0,6,5,4,4,3,2,2,2,1],[0,6,5,4,4,4,3,2,2,2,1],[6,0,5,4,4,4,3,2,2,2,1]],Fs={1:{width:.5,color:Ms},2:{width:.5,color:Nr,opacity:.77},3:{width:.5,color:Nr,opacity:.5},4:{width:.5,color:Nr,opacity:.5,dashArray:[6,6]},5:{width:.5,color:Nr,opacity:.5,dashArray:[6,18]},6:{width:1,color:Nr,opacity:.5,dashArray:[1,12]}},qs=()=>{const s=P.useCallback((f,{timeScale:h,timeOrigin:m,xOffset:_,yOffset:x,getX:F})=>{const $=f.canvas.width,C=f.canvas.height,Y=m-h*_,B=Y+h*$,w=1/h*Rr;let N=[];Fa.some((T,c)=>w<T?(N=Os[c],!0):!1);const I={};qa.map((T,c)=>{const y=N[c];if(!y)return;let q=Math.floor(Y/T)*T;for(;q<=B;)I[q]=y,q+=T});for(const T in I){const c=I[T],y=Fs[c];f.strokeStyle=y.color,f.lineWidth=y.width,f.globalAlpha=y.opacity||1,f.setLineDash(y.dashArray||[]),y.dashArray&&(f.lineDashOffset=-x);const q=F(+T);f.beginPath(),f.moveTo(q,0),f.lineTo(q,C),f.stroke()}f.setLineDash([]),f.lineDashOffset=0,f.globalAlpha=1},[]);return ve("graduations",s),null};function je(s,f){const h=f.getBoundingClientRect();return{x:s.clientX-h.left,y:s.clientY-h.top}}function Ds(s){if(typeof s.deltaY<"u")return s.deltaY*-3/360;if(typeof s.detail<"u")return s.detail/-9;throw new Error("Could not extract delta from event.")}function zs(s,f,h){const m=P.useRef(f),[_,x]=P.useState({type:"idle"}),[F,$]=P.useState({isHover:!1,position:{x:NaN,y:NaN}}),{position:C,down:Y}=F;P.useEffect(()=>{m.current=f},[f]);const B=P.useCallback(c=>{if(!s)return;const{onClick:y}=m.current;if(y){const q=je(c,s);y({event:c,position:C,data:h(q)})}},[s,h]),w=P.useCallback(c=>{s&&$(y=>({...y,down:{ctrl:c.ctrlKey,shift:c.shiftKey}}))},[s]),N=P.useCallback(()=>{s&&$(c=>({...c,down:void 0}))},[s]),I=P.useCallback(c=>{if(!s)return;const y=je(c,s),{x:q,y:er}=C,R=s.offsetWidth,S=s.offsetHeight,O=q>=0&&q<=R&&er>=0&&er<=S;$(Z=>({...Z,position:y,isHover:O}));const{onMouseMove:g}=m.current;g&&g({event:c,isHover:O,position:C,data:{position:NaN,time:NaN}})},[s]),T=P.useCallback(c=>{const{onZoom:y}=m.current;y&&s&&y({delta:Ds(c),position:je(c,s),event:c})},[s]);return P.useEffect(()=>{if(s)return s.addEventListener("click",B),()=>{s.removeEventListener("click",B)}},[s,B]),P.useEffect(()=>{if(s)return s.addEventListener("mousedown",w),()=>{s.removeEventListener("mousedown",w)}},[s,w]),P.useEffect(()=>(document.addEventListener("mouseup",N),()=>{document.removeEventListener("mouseup",N)}),[N]),P.useEffect(()=>(document.addEventListener("mousemove",I),()=>{document.removeEventListener("mousemove",I)}),[I]),P.useEffect(()=>{if(s)return s.addEventListener("wheel",T),()=>{s.removeEventListener("wheel",T)}},[s,T]),P.useEffect(()=>{const{onPan:c}=m.current;Y?x({type:"panning",initialPosition:C,initialData:h(C)}):(_.type==="panning"&&c&&c({isPanning:!1,position:C,initialPosition:_.initialPosition,data:h(C),initialData:_.initialData}),_.type!=="idle"&&x({type:"idle"}))},[Y]),P.useEffect(()=>{const{onPan:c}=m.current;_.type==="panning"&&c&&c({isPanning:!0,position:C,initialPosition:_.initialPosition,data:h(C),initialData:_.initialData})},[C]),F}function Gs(s,f,h){let m=s;if(f.some($=>$.to<m?!0:(m=$.to,!1)))throw new Error("Invalid scale: 'to' must be greater than previous 'to'.");if(f.some($=>("size"in $?$.size:$.coefficient)<=0))throw new Error("Invalid scale: 'to' must be greater than 'from'.");const _=[];let x=0;m=s;for(let $=0;$<f.length;$++){const C=f[$],Y="coefficient"in C?C.coefficient:(C.to-m)/C.size,B="coefficient"in C?(C.to-m)/C.coefficient:C.size;_.push({from:m,to:C.to,pixelFrom:x,pixelTo:x+B,coefficient:Y}),x+=B,m=C.to,$&&(_[$].previous=_[$-1],_[$-1].next=_[$])}function F($){if($.length===0)throw new Error("Invalid scales: there should be at least one scale.");if($.length===1)return $[0];{const C=Math.ceil($.length/2),Y=$[C-1].to,B=$[C-1].pixelTo;return{limit:Y,pixelLimit:B,from:$[0].from,to:$[$.length-1].to,pixelFrom:$[0].pixelFrom,pixelTo:$[$.length-1].pixelTo,left:F($.slice(0,C)),right:F($.slice(C))}}}return F(_)}function Da(s,f){s=vr.clamp(s,f.from,f.to);let h=f;for(;"limit"in h;)s<=h.limit?h=h.left:h=h.right;return h}function Hs(s,f){s=vr.clamp(s,f.pixelFrom,f.pixelTo);let h=f;for(;"pixelLimit"in h;)s<=h.pixelLimit?h=h.left:h=h.right;return h}function Bs(s,f,h){return m=>f+(m-s)/h}function Ys(s,f,h){return m=>(m-f)*h+s}function Ws(s,f,h){return m=>{const{from:_,pixelFrom:x,coefficient:F}=Da(m-s,h);return f+x+(m-_)/F}}function Zs(s,f,h){return m=>{const{from:_,pixelFrom:x,coefficient:F}=Hs(m-f,h);return s+_+(m-f-x)*F}}function Us(s,f){return({x:h,y:m})=>({time:s(h),position:f(m)})}function Xs(s,f){return({time:h,position:m})=>({x:s(h),y:f(m)})}function za(s,f,h){if(f<s)return za(f,s,h).reverse();s=Math.max(s,h.from),f=Math.min(f,h.to);let m=Da(s,h),_=s;const x=[];for(;m.to<f;)m.to!==_&&x.push(m.to),_=m.to,m=m.next;return x}const js=s=>{const{operationalPoints:f,spaceOrigin:h,spaceScales:m,timeOrigin:_,timeScale:x,xOffset:F=0,yOffset:$=0,onHoveredChildUpdate:C,children:Y,onPan:B,onZoom:w,onClick:N,onMouseMove:I,...T}=s,[c,y]=P.useState(null),[q,er]=P.useState(null),{width:R,height:S}=Aa(c),O=P.useMemo(()=>JSON.stringify({width:R,height:S,spaceOrigin:h,spaceScales:m,timeOrigin:_,timeScale:x,xOffset:F,yOffset:$}),[R,S,h,m,_,x,F,$]),g=P.useMemo(()=>{const ir=Gs(h,m),kr=Bs(_,F,x),Ar=Ws(h,$,ir),Pr=Xs(kr,Ar),dr=Ys(_,F,x),Wr=Zs(h,$,ir),he=Us(dr,Wr);return{fingerprint:O,width:R,height:S,getX:kr,getY:Ar,getPoint:Pr,getTime:dr,getSpace:Wr,getData:he,operationalPoints:f,spaceOrigin:h,spaceScaleTree:ir,timeOrigin:_,timeScale:x,xOffset:F,yOffset:$}},[O]),{position:Z,down:A,isHover:rr}=zs(c,s,g.getData),fr=P.useMemo(()=>({position:Z,down:A,isHover:rr,data:g.getData(Z)}),[Z,A,rr,g]),{canvasContext:Tr,hoveredItem:mr}=_s(q,g,Z);return P.useEffect(()=>{C&&C({item:mr})},[mr]),Cr.createElement("div",{...T,ref:y,className:us("relative space-time-chart",T.className)},Cr.createElement("div",{ref:er,className:"absolute inset-0"}),Cr.createElement(gs.Provider,{value:g},Cr.createElement(Ke.Provider,{value:Tr},Cr.createElement(ps.Provider,{value:fr},Cr.createElement(Ls,null),Cr.createElement(qs,null),Cr.createElement(Is,null),Y))))};js.__docgenInfo={description:"",methods:[],displayName:"SpaceTimeChart",props:{children:{required:!1,tsType:{name:"Array",elements:[{name:"ReactNode"}],raw:"ReactNode[]"},description:""},operationalPoints:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id: string;
  label: string;
  position: number;
  importanceLevel?: number; // Lower is better. If null, the point won't be displayed.
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"position",value:{name:"number",required:!0}},{key:"importanceLevel",value:{name:"number",required:!1}}]}}],raw:"OperationalPoint[]"},description:""},spaceOrigin:{required:!0,tsType:{name:"number"},description:""},spaceScales:{required:!0,tsType:{name:"Array",elements:[{name:"intersection",raw:`{
  // End point (in meters):
  to: number;
} & (
  | {
      // Coefficient (in meters/px):
      coefficient: number;
    }
  | {
      // Size (in px):
      size: number;
    }
)`,elements:[{name:"signature",type:"object",raw:`{
  // End point (in meters):
  to: number;
}`,signature:{properties:[{key:"to",value:{name:"number",required:!0}}]}},{name:"unknown"}]}],raw:"SpaceScale[]"},description:""},timeOrigin:{required:!0,tsType:{name:"number"},description:""},timeScale:{required:!0,tsType:{name:"number"},description:""},xOffset:{required:!1,tsType:{name:"number"},description:""},yOffset:{required:!1,tsType:{name:"number"},description:""},onPan:{required:!1,tsType:{name:"signature",type:"function",raw:"(payload: P) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
  isPanning: boolean;
  initialPosition: Point;
  position: Point;
  initialData: DataPoint;
  data: DataPoint;
}`,signature:{properties:[{key:"isPanning",value:{name:"boolean",required:!0}},{key:"initialPosition",value:{name:"signature",type:"object",raw:`{
  x: number;
  y: number;
}`,signature:{properties:[{key:"x",value:{name:"number",required:!0}},{key:"y",value:{name:"number",required:!0}}]},required:!0}},{key:"position",value:{name:"signature",type:"object",raw:`{
  x: number;
  y: number;
}`,signature:{properties:[{key:"x",value:{name:"number",required:!0}},{key:"y",value:{name:"number",required:!0}}]},required:!0}},{key:"initialData",value:{name:"signature",type:"object",raw:`{
  time: number;
  position: number;
}`,signature:{properties:[{key:"time",value:{name:"number",required:!0}},{key:"position",value:{name:"number",required:!0}}]},required:!0}},{key:"data",value:{name:"signature",type:"object",raw:`{
  time: number;
  position: number;
}`,signature:{properties:[{key:"time",value:{name:"number",required:!0}},{key:"position",value:{name:"number",required:!0}}]},required:!0}}]}},name:"payload"}],return:{name:"void"}}},description:""},onZoom:{required:!1,tsType:{name:"signature",type:"function",raw:"(payload: P) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ delta: number; position: Point; event: WheelEvent }",signature:{properties:[{key:"delta",value:{name:"number",required:!0}},{key:"position",value:{name:"signature",type:"object",raw:`{
  x: number;
  y: number;
}`,signature:{properties:[{key:"x",value:{name:"number",required:!0}},{key:"y",value:{name:"number",required:!0}}]},required:!0}},{key:"event",value:{name:"WheelEvent",required:!0}}]}},name:"payload"}],return:{name:"void"}}},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(payload: P) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ position: Point; data: DataPoint; event: MouseEvent }",signature:{properties:[{key:"position",value:{name:"signature",type:"object",raw:`{
  x: number;
  y: number;
}`,signature:{properties:[{key:"x",value:{name:"number",required:!0}},{key:"y",value:{name:"number",required:!0}}]},required:!0}},{key:"data",value:{name:"signature",type:"object",raw:`{
  time: number;
  position: number;
}`,signature:{properties:[{key:"time",value:{name:"number",required:!0}},{key:"position",value:{name:"number",required:!0}}]},required:!0}},{key:"event",value:{name:"MouseEvent",required:!0}}]}},name:"payload"}],return:{name:"void"}}},description:""},onMouseMove:{required:!1,tsType:{name:"signature",type:"function",raw:"(payload: P) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ position: Point; data: DataPoint; isHover: boolean; event: MouseEvent }",signature:{properties:[{key:"position",value:{name:"signature",type:"object",raw:`{
  x: number;
  y: number;
}`,signature:{properties:[{key:"x",value:{name:"number",required:!0}},{key:"y",value:{name:"number",required:!0}}]},required:!0}},{key:"data",value:{name:"signature",type:"object",raw:`{
  time: number;
  position: number;
}`,signature:{properties:[{key:"time",value:{name:"number",required:!0}},{key:"position",value:{name:"number",required:!0}}]},required:!0}},{key:"isHover",value:{name:"boolean",required:!0}},{key:"event",value:{name:"MouseEvent",required:!0}}]}},name:"payload"}],return:{name:"void"}}},description:""},onHoveredChildUpdate:{required:!1,tsType:{name:"signature",type:"function",raw:"(payload: P) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ item: HoveredItem | null }",signature:{properties:[{key:"item",value:{name:"union",raw:"HoveredItem | null",elements:[{name:"signature",type:"object",raw:"{ layer: PickingLayerType; index: number }",signature:{properties:[{key:"layer",value:{name:"unknown[number]",raw:"(typeof PICKING_LAYERS)[number]",required:!0}},{key:"index",value:{name:"number",required:!0}}]}},{name:"null"}],required:!0}}]}},name:"payload"}],return:{name:"void"}}},description:""}}};function Ga(s,f,h,[m,_,x],F,$=Math.ceil(F/2)){if(f.x>h.x)return Ga(s,h,f,[m,_,x],F);const C=s.width,Y=s.height,B=h.x-f.x,w=h.y-f.y,N=Math.sqrt(B*B+w*w),I=-w/N,T=B/N,c=$,y={x:f.x+(+I-B/N)*c,y:f.y+(+T-w/N)*c},q={x:f.x+(-I-B/N)*c,y:f.y+(-T-w/N)*c},er={x:h.x+(-I+B/N)*c,y:h.y+(-T+w/N)*c},R={x:h.x+(+I+B/N)*c,y:h.y+(+T+w/N)*c},S=f.y<h.y,O=S?R:y,g=S?y:q,Z=S?er:R,A=S?q:er,rr=vr.clamp(Math.floor(g.x),0,C),fr=vr.clamp(Math.ceil(Z.x),0,C),Tr=vr.clamp(Math.floor(A.y),0,Y),mr=vr.clamp(Math.ceil(O.y),0,Y);for(let ir=Tr;ir<=mr;ir++){const kr=vr.clamp(ir<g.y?Math.floor(A.x+(ir-A.y)*(g.x-A.x)/(g.y-A.y)):Math.floor(g.x+(ir-g.y)*(g.x-O.x)/(g.y-O.y)),rr,fr),Ar=vr.clamp(ir<Z.y?Math.ceil(A.x+(ir-A.y)*(Z.x-A.x)/(Z.y-A.y)):Math.ceil(Z.x+(ir-Z.y)*(Z.x-O.x)/(Z.y-O.y)),rr,fr);for(let Pr=kr;Pr<=Ar;Pr++){const dr=(ir*C+Pr)*4;s.data[dr]=m,s.data[dr+1]=_,s.data[dr+2]=x,s.data[dr+3]=255}}}const Sa=6;function Vs(s,f,h){s.beginPath(),s.moveTo(f,h-Sa/2),s.lineTo(f,h+Sa/2),s.stroke()}const Ve=12;function Js(s,f,h,m,_){const x=m==="from"?1:-1,F=(_==="down"?1:-1)*x,$=f-4*x,C=h+(Ve-2)*F;s.beginPath(),s.moveTo(f,h),s.bezierCurveTo($,C,$,C,f-Ve*x,h+Ve*F),s.stroke()}function La(s,f,h,m,_,x){x==="out"?Js(s,f,h,m,_):Vs(s,f,h)}function Ks({points:s},f){if(s.length<2)return"down";for(let h=1,m=Math.min(3,s.length);h<m;h++){const _=s[h].position-s[h-1].position;if(_>0)return"up";if(_<0)return"down"}return"down"}const Qs=5,rl=7,el=.2,Na={1:{width:1.5,endWidth:1.5},2:{width:1,endWidth:1},3:{width:1,endWidth:1,dashArray:[5,5],lineCap:"square"},4:{width:1.5,endWidth:1,dashArray:[0,4],lineCap:"round"}},nl=2,cl=({index:s,path:f,color:h,level:m=nl,pickingTolerance:_=Qs})=>{const x=P.useCallback(({getX:w,getY:N,spaceScaleTree:I})=>{const T=[];return f.points.forEach(({position:c,time:y},q,er)=>{if(!q)T.push({x:w(y),y:N(c)});else{const{position:R,time:S}=er[q-1];za(R,c,I).forEach(g=>{const Z=S+(g-R)/(c-R)*(y-S);T.push({x:w(Z),y:N(g)})}),T.push({x:w(y),y:N(c)})}}),T},[f]),F=P.useCallback((w,{getX:N,getY:I,operationalPoints:T})=>{const c=new Set(T.map(y=>y.position));f.points.forEach(({position:y,time:q},er,R)=>{if(er){const{position:S,time:O}=R[er-1];if(S===y&&c.has(y)){const g=I(y);w.beginPath(),w.moveTo(N(O),g),w.lineTo(N(q),g),w.stroke()}}})},[f]),$=P.useCallback((w,N,I,T)=>{if(!N)return;const c=w.canvas.width,y=w.canvas.height,q=T.findIndex(({x:ir,y:kr})=>vr.inRange(ir,0,c)&&vr.inRange(kr,0,y));if(q<0)return;const er=T[q-1],R=T[q],S=T[q+1];let O=R,g=0;q===0?S&&(g=Math.atan2(S.y-R.y,S.x-R.x)):(O={x:0,y:R.y-R.x*(R.y-er.y)/(R.x-er.x)},g=Math.atan2(R.y-O.y,R.x-O.x)),w.save(),w.translate(O.x,O.y),w.rotate(g),w.font=`${Xe}px IBM Plex Mono`,w.textAlign="start";const Z=5,A=g>=0?-5:15,rr=2,Tr=w.measureText(N).width+2*rr,mr=Xe+2*rr;w.fillStyle=Ps,w.fillRect(Z-rr,A-mr+rr,Tr,mr),w.fillStyle=I,w.fillText(N,Z,A-Xe/4),w.restore()},[]),C=P.useCallback((w,{getX:N,getY:I})=>{const T=Ks(f),c=f.points[0],y=f.fromEnd||Pa,q=vr.last(f.points),er=f.toEnd||Pa;La(w,N(c.time),I(c.position),"from",T,y),La(w,N(q.time),I(q.position),"to",T,er)},[f]),Y=P.useCallback((w,N)=>{w.strokeStyle=h,w.lineWidth=rl,w.globalAlpha=el,w.lineCap="round",F(w,N);const I=Na[m];w.strokeStyle=h,w.lineWidth=I.width,w.setLineDash(I.dashArray||[]),w.globalAlpha=I.opacity||1,w.lineCap=I.lineCap||"square",w.beginPath();const T=x(N);T.forEach(({x:c,y},q)=>{q?w.lineTo(c,y):w.moveTo(c,y)}),w.stroke(),w.setLineDash([]),w.lineWidth=I.endWidth,C(w,N),$(w,f.label,h,T)},[h,F,m,x,C,$,f.label]);ve("paths",Y);const B=P.useCallback((w,N)=>{const I=ks(ms(s));x(N).forEach((T,c,y)=>{if(c){const q=y[c-1];Ga(w,q,T,I,Na[m].width+_)}})},[s,x,m,_]);return Es("paths",B),null};export{fl as K,ps as M,Jr as O,ol as P,js as S,Ps as W,ul as X,sl as Y,cl as a,gs as b,Rr as c,fs as d,cs as e,vs as f,ue as g,hs as h,ll as z};
